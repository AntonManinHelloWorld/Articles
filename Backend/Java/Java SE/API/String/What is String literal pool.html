<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252"> 
<link href="What%20is%20String%20literal%20pool_files/tigon.css" type="text/css" rel="stylesheet">
<title>What is String literal pool?</title>
</head>
<body>

<div class="headerwide">
<table width="1000" border="0" cellpadding="0" cellspacing="0" align="center">
  <tbody><tr class="banner">
    <td valign="top" align="center">
		<img src="What%20is%20String%20literal%20pool_files/logo.gif" alt="XYZWS SCDJWS SCJP" border="0">
    </td> 
	<td valign="bottom" align="right">
	<font size="-2">Member Center:&nbsp;<a href="http://www.xyzws.com/registration">Register</a>&nbsp;|&nbsp;<a href="http://www.xyzws.com/login">Sign In</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
	
	<br><br>
	
	<form method="get" action="http://www.google.com/custom" target="_top">
<table border="0">
<tbody><tr>

<td><input name="sitesearch" value="" checked="checked" type="radio"><font size="-2" color="#000000">The Web</font></td>
<td><input name="sitesearch" value="www.xyzws.com" type="radio"><font size="-2" color="#000000">xyzws.com</font></td>

<td nowrap="nowrap">
	
	<input name="q" size="50" maxlength="255" type="text"></td>

	<td><input name="sa" value="Search" type="submit">
	<input name="domains" value="www.xyzws.com" type="hidden">
	<input name="client" value="pub-5605518375162908" type="hidden">
	<input name="forid" value="1" type="hidden">
	<input name="ie" value="ISO-8859-1" type="hidden">
	<input name="oe" value="ISO-8859-1" type="hidden">
	<input name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1;" type="hidden">
	<input name="hl" value="en" type="hidden">
</td>
<td nowrap="nowrap"><span id="smalltext">powered by</span></td>
<td colspan="2" height="32" valign="top" nowrap="nowrap" align="left">
<a href="http://www.google.com/">
<img src="What%20is%20String%20literal%20pool_files/Logo_25wht.gif" alt="Google" border="0" align="middle"></a>
</td>
</tr>
</tbody></table>
</form>
</td>
  </tr>
</tbody></table>
</div>

<div id="topmenu">
<ul>
    <li><a href="http://www.xyzws.com/">Home</a></li> 
    <li><a href="http://www.xyzws.com/stius/view/all/page1/month/latest">STIU</a></li>
    <li><a href="http://www.xyzws.com/scjp/">SCJP</a></li>
    <li><a href="http://www.xyzws.com/scdjws/">SCDJWS</a></li>
    <li><a href="http://www.xyzws.com/javafaq/page/1">JEE FAQ</a></li>
    <li><a href="http://www.xyzws.com/wow/all/latest/1">WOW</a></li>
    <li><a href="http://www.xyzws.com/aboutus">About US</a></li>
</ul>
</div>

<table width="1000" border="0" cellpadding="0" cellspacing="0" align="center">
<tbody><tr><td><div class="nav">You are here: <a href="http://www.xyzws.com/javafaq/page/1"><font color="#00ccff">JEE FAQ</font></a> » Java FAQ</div></td></tr></tbody></table>
<!-- main content -->
<div class="main">
    
<!-- main left-->
<div class="main_left">

<div class="module">
    <div class="content">
        <div class="module">
<div class="header">
<h3>FAQ</h3>
</div>
<div class="content">

  
<p>Java</p>
<p><a href="http://www.xyzws.com/jspfaq/page/1">JSP</a></p>
<p><a href="http://www.xyzws.com/servletfaq/page/1">Servlet</a></p>
<p></p>
    </div>
</div>

</div>
</div>
<br>   

<div class="left_menu_ad">
<script type="text/javascript"><!--
google_ad_client = "pub-5605518375162908";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "6699ff";
google_color_link = "0000FF";
google_color_bg = "FFFFFF";
google_color_text = "000000";
google_color_url = "008000";
google_color_bg = "f0f8ff";
//--></script>
<script type="text/javascript" src="What%20is%20String%20literal%20pool_files/show_ads.js">
</script><font size="-2" color="#ffffff">Advertisement</font>
</div>

</div> <!-- end of main left-->

<!-- main right -->
<div class="main_right">
    
<!--top ads -->
<script type="text/javascript"><!--
google_ad_client = "pub-5605518375162908";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "6699ff";
google_color_bg = "f0f8ff";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//-->
</script>
<script type="text/javascript" src="What%20is%20String%20literal%20pool_files/show_ads.js">
</script><!-- end of top ads -->

<br>
<br>
    
<div class="main_right_l">

<div class="module">
<div id="faq_body">
<br>
<h1>What is String literal pool?</h1>

<h2>How to create a String</h2>
<p>There are two ways to create a String object in Java:</p>
<ul>
<li class="home">Using the <em>new</em> operator. For example, <br> <code>String str = new String("Hello");</code>.</li>
<li class="home">Using a <em>string literal</em> or <em>constant expression)</em>. For example,<br> <code>String str="Hello";</code> (string literal) or<br> <code>String str="Hel" + "lo";</code> (string constant expression).</li>
</ul>
<p>What is difference between these String's creations? In Java, the <em>equals</em> method can be considered to perform a deep comparison of the value of an object,  whereas the <em>==</em> operator performs a shallow comparison.  The <em>equals</em> method compares the content of two objects rather than two objects' references. The <em>==</em> operator with reference types (i.e., Objects) evaluates as <em>true</em> if the references are identical - point to the same object. With value types (i.e., primitives) it evaluates as <em>true</em> if the value is identical. The <em>equals</em> method is to return <em>true</em> if two objects have identical content - however,  the <em>equals</em> method in the java.lang.Object class - the default <em>equals</em> method if a class does not  override it - returns <em>true</em> only if both references point to the same object.</p>
<p>Let's use the following example to see what difference between these creations of string:</p>
<pre>public class DemoStringCreation {<br><br>  public static void main (String args[]) {<br>    String str1 = "Hello";  <br>    String str2 = "Hello"; <br>    System.out.println("str1 and str2 are created by using string literal.");    <br>    System.out.println("    str1 == str2 is " + (str1 == str2));  <br>    System.out.println("    str1.equals(str2) is " + str1.equals(str2));  <br><br>    <br>    String str3 = new String("Hello");  <br>    String str4 = new String("Hello"); <br>    System.out.println("str3 and str4 are created by using new operator.");    <br>    System.out.println("    str3 == str4 is " + (str3 == str4));  <br>    System.out.println("    str3.equals(str4) is " + str3.equals(str4));  <br>    <br>    String str5 = "Hel"+ "lo";  <br>    String str6 = "He" + "llo"; <br>    System.out.println("str5 and str6 are created by using string 
constant expression.");    <br>    System.out.println("    str5 == str6 is " + (str5 == str6));  <br>    System.out.println("    str5.equals(str6) is " + str5.equals(str6));<br><br>    String s = "lo";<br>    String str7 = "Hel"+ s;  <br>    String str8 = "He" + "llo"; <br>    System.out.println("str7 is computed at runtime.");		<br>    System.out.println("str8 is created by using string constant 
expression.");    <br>    System.out.println("    str7 == str8 is " + (str7 == str8));  <br>    System.out.println("    str7.equals(str8) is " + str7.equals(str8));<br>    <br>  }<br>}<br></pre>
<p>The output result is:</p>
<pre>str1 and str2 are created by using string literal.<br>    str1 == str2 is true<br>    str1.equals(str2) is true<br>str3 and str4 are created by using new operator.<br>    str3 == str4 is false<br>    str3.equals(str4) is true<br>str5 and str6 are created by using string constant expression.<br>    str5 == str6 is true<br>    str5.equals(str6) is true<br>str7 is computed at runtime.<br>str8 is created by using string constant expression.<br>    str7 == str8 is false<br>    str7.equals(str8) is true<br></pre>
<p>The creation of two strings with the same sequence of letters without the use of the <em>new</em> keyword will create pointers  to the same String in the Java String literal pool. The String literal pool is a way Java conserves resources.</p>
<p>&nbsp;</p>
<h2>String Literal Pool</h2>
<p>String allocation, like all object allocation, proves costly in both time and memory.  The JVM performs some trickery while instantiating <em><strong>string literals</strong></em> to increase performance and decrease memory overhead. To cut down the number of String objects created in the JVM, the String class keeps a pool of strings.  Each time your code create a string literal, the JVM checks the string literal pool first.  If the string already exists in the pool, a reference to the pooled instance returns.  If the string does not exist in the pool, a new String object instantiates, then is placed in the pool.  Java can make this optimization since strings are immutable and can be shared without fear of data corruption.  For example</p>
<pre>public class Program<br>{<br>    public static void main(String[] args)<br>    {<br>       String str1 = "Hello";  <br>       String str2 = "Hello"; <br>       System.out.print(str1 == str2);<br>    }<br>}<br></pre>
<p>The result is</p>
<pre>true<br></pre>
<p>&nbsp;</p>
<p>Unfortunately, when you use</p>
<pre>String a=new String("Hello");<br></pre>
<p>a <em>String</em> object is created out of the String literal pool,  even if an equal string already exists in the pool.  Considering all that, avoid new String unless you specifically know that you need it! For example</p>
<pre>public class Program<br>{<br>    public static void main(String[] args)<br>    {<br>       String str1 = "Hello";  <br>       String str2 = new String("Hello");<br>       System.out.print(str1 == str2 + " ");<br>       System.out.print(str1.equals(str2));<br>    }<br>}<br></pre>
<p>The result is</p>
<pre>false true<br></pre>
<p>&nbsp;</p>
<p>A JVM has a string pool where it keeps at most one object of any String. String literals always refer to an object in the string pool. String objects created with the new operator do not refer to objects in the string pool but can be made to using String's intern() method. The <em>java.lang.String.intern()</em> returns an interned String, that is, one that has an entry in the global String pool.  If the String is not already in the global String pool, then it will be added. For example</p>
<pre>public class Program<br>{<br>    public static void main(String[] args)<br>    {<br>        // Create three strings in three different ways.<br>        String s1 = "Hello";<br>        String s2 = new StringBuffer("He").append("llo").toString();<br>        String s3 = s2.intern();<br><br>        // Determine which strings are equivalent using the ==<br>        // operator<br>        System.out.println("s1 == s2? " + (s1 == s2));<br>        System.out.println("s1 == s3? " + (s1 == s3));<br>    }<br>}<br></pre>
<p>The output is</p>
<pre>s1 == s2? false<br>s1 == s3? true<br></pre>
<p>There is a table always maintaining <strong>a single reference</strong> to each unique String object in the global string literal pool  ever created by an instance of the runtime in order to optimize space.  That means that they always have a reference to String objects in string literal pool, therefore,  the string objects in the string literal pool not eligible for garbage collection.</p>
<p>&nbsp;</p>
<h2>String Literals in the Java Language Specification Third Edition</h2>
<p>&nbsp;</p>
<p>Each string literal is a reference to an instance of class String.  String objects have a constant value. String literals-or, more generally, strings that are the values  of constant expressions-are "interned" so as to share unique instances, using the method <code>String.intern</code>.</p>
<p>Thus, the test program consisting of the compilation unit:</p>
<pre>package testPackage;<br>class Test {<br>        public static void main(String[] args) {<br>                String hello = "Hello", lo = "lo";<br>                System.out.print((hello == "Hello") + " ");<br>                System.out.print((Other.hello == hello) + " ");<br>                System.out.print((other.Other.hello == hello) + " ");<br>                System.out.print((hello == ("Hel"+"lo")) + " ");<br>                System.out.print((hello == ("Hel"+lo)) + " ");<br>                System.out.println(hello == ("Hel"+lo).intern());<br>        }<br>}<br>class Other { static String hello = "Hello"; }<br></pre>
<p>and the compilation unit:</p>
<pre>package other;<br>public class Other { static String hello = "Hello"; }<br></pre>
<p>produces the output:</p>
<pre>true true true true false true<br></pre>
<p>This example illustrates six points:</p>
<ul>
<li class="home">Literal strings within the same class in the same package represent references to the same String object.</li>
<li class="home">Literal strings within different classes in the same package represent references to the same String object.</li>
<li class="home">Literal strings within different classes in different packages likewise represent references to the same String object.</li>
<li class="home">Strings computed by constant expressions are computed at compile time and then treated as if they were literals.</li>
<li class="home">Strings computed by concatenation at run time are newly created and therefore distinct.</li>
</ul>
<p>The result of explicitly interning a computed string is the same string as any pre-existing literal string with the same contents.</p><p>
<!--start google ad -->
<script type="text/javascript"><!--
google_ad_client = "pub-5605518375162908";
google_alternate_color = "FFFFFF";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript" src="What%20is%20String%20literal%20pool_files/show_ads.js">
</script>

<!--end google ad -->
</p>
</div>
<hr size="1" width="100%">

<div style="float:left;">
<p>
<img src="What%20is%20String%20literal%20pool_files/printIcon.gif" alt="Printer-friendly version" height="15" vspace="4" width="16" border="0" align="absmiddle">
   <a href="javascript:toPrint('3',%20'java')">Printer-friendly version</a> | 
<img src="What%20is%20String%20literal%20pool_files/emailIcon.gif" alt="Send this 
article to a friend" height="15" width="20" border="0"> <a href="http://www.xyzws.com/faqMail/java/what-is-string-literal-pool/3">Mail this to a friend</a>
</p>
</div> 

<!-- Doc Nav -->
<div style="float:right;">
<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td><a href="http://www.xyzws.com/javafaq/are-parameters-passed-by-reference-or-passed-by-value-in-method-invocation/2"><img src="What%20is%20String%20literal%20pool_files/doc_nav_prev.gif" alt="Previous" title="Previous" height="44" width="36" border="0"></a></td>

<td><a href="http://www.xyzws.com/javafaq/why-not-throwing-an-arrayindexoutofboundsexception/4"><img src="What%20is%20String%20literal%20pool_files/doc_nav_next.gif" alt="Next" title="Next" height="44" width="44" border="0"></a></td>

<td><img src="What%20is%20String%20literal%20pool_files/doc_nav_dots.gif" alt="vertical dots separating previous/next from contents/index/pdf" height="44" width="5" border="0"></td>

<td><a href="http://www.xyzws.com/javafaq/page/1"><img src="What%20is%20String%20literal%20pool_files/doc_nav_contents.gif" alt="Contents" title="Contents" height="44" width="52" border="0"></a></td>
</tr>
</tbody></table>
</div>
<!--End of Doc Nav -->
<div style="clear:both;"></div>

</div>
</div>

<div class="main_right_r">

<div class="module">
<div class="header">
<h3>Most Recent java Faqs</h3>
</div>
<div class="content"> 
    <ul class="home">
<li><a href="http://www.xyzws.com/Javafaq/how-to-uncompress-a-file-in-the-gzip-format/216">How to uncompress a file in the gzip format?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-make-a-gzip-file-in-java/215">How to make a gzip file in Java?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-use-java-stringsplit-method-to-split-a-string-by-dot/214">How to use Java String.split method to split a string by dot?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-validate-url-in-java/213">How to validate URL in Java?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-schedule-a-job-in-java/212">How to schedule a job in Java?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-return-the-content-in-the-correct-encoding-from-a-servlet/211">How to return the content in the correct encoding from a servlet?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/what-is-the-difference-between-jdk-and-jre/210">What is the difference between JDK and JRE?</a></li>
    </ul></div>

</div>

<br>

<div class="module">
<div class="header">
<h3>Most Viewed java Faqs</h3>
</div>
<div class="content"> 
    <ul class="home">
<li><a href="http://www.xyzws.com/Javafaq/how-to-read-input-from-console-keyboard-in-java/195">How to read input from console (keyboard) in Java?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-retrieve-multiple-result-sets-from-a-stored-procedure-in-jdbc/172">How to Retrieve Multiple Result Sets from a Stored Procedure in JDBC?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/what-are-class-variables-in-java/197">What are class variables in Java?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-use-updatable-resultset-in-jdbc/179">How to Use Updatable ResultSet in JDBC?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/what-are-local-variables-in-java/200">What are local variables in Java?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/how-to-use-jdbc-java-to-create-table/170">How to Use JDBC Java to Create Table?</a></li>
    <li><a href="http://www.xyzws.com/Javafaq/why-final-variable-in-enhanced-for-loop-does-not-act-final/160">Why final variable in Enhanced for Loop does not act final?</a></li>
    </ul></div>

</div>
   

</div>
</div> <!-- end of main right-->

</div> <!-- end of main-->

<br>

<div class="clearfloat">
<div class="help">
    <script language="Javascript" type="text/javascript">
    <!-- //
    var user = "webmaster"; 
    var domain = "xyzws.com"; 

    document.write('<a href=\"mailto:' + user + '@' + domain + '\">'); 
    document.write('Support</a>');
      // -->
   </script><a href="mailto:webmaster@xyzws.com">Support</a>
   &nbsp;&nbsp;|
    <script language="Javascript" type="text/javascript">
    <!-- //
    document.write('<a href=\"mailto:' + user + '@' + domain + '\">'); 
    document.write('Feedback</a>');
      // -->
   </script><a href="mailto:webmaster@xyzws.com">Feedback</a>
   &nbsp;&nbsp;|
       <script language="Javascript" type="text/javascript">
    <!-- //
    document.write('<a href=\"mailto:' + user + '@' + domain + '\">'); 
    document.write('Help</a>');
      // -->
   </script><a href="mailto:webmaster@xyzws.com">Help</a>
   &nbsp;&nbsp;
</div>


</div>
<hr class="layout">

<div style="clear:both;"></div>

<div class="footer">
© Copyright 2005-2015 www.xyzws.com All rights reserved.
</div>
		






</body></html>