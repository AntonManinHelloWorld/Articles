<!DOCTYPE html>
<html lang="ru-RU"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://prologistic.com.ua/xmlrpc.php">
	<title>Полное руководство по Java 8 Stream | Программирование на Java</title>

	<style type="text/css">
		#fancybox-close{right:-15px;top:-15px}
		div#fancybox-content{border-color:#FFFFFF}
		div#fancybox-title{background-color:#FFFFFF}
		div#fancybox-outer{background-color:#FFFFFF}
		div#fancybox-title-inside{color:#333333}
	</style>

	
<!-- All in One SEO Pack 2.2.7.4 by Michael Torbert of Semper Fi Web Design[330,399] -->
<meta name="description" itemprop="description" content="Это руководство дает не только общее представление о Stream в Java 8, но и полезные знания которые будут востребованы в будущем.&nbsp;Когда я впервые узнал&nbsp;о">

<meta name="keywords" itemprop="keywords" content="java 8,stream,streams api,потоки">

<link rel="canonical" href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html">
		<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/watch.js" async="" type="text/javascript"></script><script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/page.js" async="" type="text/javascript"></script><script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-56556309-5']);
		  _gaq.push(['_trackPageview']);
		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
<!-- /all in one seo pack -->
<link rel="alternate" type="application/rss+xml" title="Программирование на Java » Лента" href="http://prologistic.com.ua/feed">
<link rel="alternate" type="application/rss+xml" title="Программирование на Java » Лента комментариев" href="http://prologistic.com.ua/comments/feed">
<link rel="alternate" type="application/rss+xml" title="Программирование на Java » Лента комментариев к «Полное руководство по Java 8 Stream»" href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html/feed">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/prologistic.com.ua\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3.1"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script type="text/javascript" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/wp-emoji-release.js"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="crayon-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/crayon.css" media="all">
<link rel="stylesheet" id="crayon-theme-sublime-text-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/sublime-text.css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/monaco.css" media="all">
<link rel="stylesheet" id="fancybox-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/fancybox.css" media="all">
<link rel="stylesheet" id="symple_shortcode_styles-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/symple_shortcodes_styles.css" media="all">
<link rel="stylesheet" id="flat-fonts-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/css.css" media="all">
<link rel="stylesheet" id="flat-theme-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/flat.css" media="all">
<link rel="stylesheet" id="A2A_SHARE_SAVE-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/addtoany.css" media="all">
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/jquery.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/jquery-migrate.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/q2w3-fixed-widget.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/prologistic.com.ua\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 %s \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, %s \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/crayon.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/jquery_002.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/flat.js"></script>
<!--[if lt IE 9]>
<script src='http://prologistic.com.ua/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2'></script>
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://prologistic.com.ua/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://prologistic.com.ua/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Принципы создания удобных форм регистрации" href="http://prologistic.com.ua/printsipy-sozdaniya-udobny-h-form-registratsii.html">
<link rel="next" title="Первая программа на Java" href="http://prologistic.com.ua/pervaya-programma-na-java.html">
<meta name="generator" content="WordPress 4.3.1">
<link rel="shortlink" href="http://prologistic.com.ua/?p=109">

<script type="text/javascript"><!--
var a2a_config=a2a_config||{},wpa2a={done:false,html_done:false,script_ready:false,script_load:function(){var a=document.createElement('script'),s=document.getElementsByTagName('script')[0];a.type='text/javascript';a.async=true;a.src='http://static.addtoany.com/menu/page.js';s.parentNode.insertBefore(a,s);wpa2a.script_load=function(){};},script_onready:function(){wpa2a.script_ready=true;if(wpa2a.html_done)wpa2a.init();},init:function(){for(var i=0,el,target,targets=wpa2a.targets,length=targets.length;i<length;i++){el=document.getElementById('wpa2a_'+(i+1));target=targets[i];a2a_config.linkname=target.title;a2a_config.linkurl=target.url;if(el){a2a.init('page',{target:el});el.id='';}wpa2a.done=true;}wpa2a.targets=[];}};a2a_config.callbacks=a2a_config.callbacks||[];a2a_config.callbacks.push({ready:wpa2a.script_onready});a2a_localize = {
	Share: "Отправить",
	Save: "Сохранить",
	Subscribe: "Подписаться",
	Email: "Email",
	Bookmark: "В закладки!",
	ShowAll: "Показать все",
	ShowLess: "Показать остальное",
	FindServices: "Найти сервис(ы)",
	FindAnyServiceToAddTo: "Найти сервис и добавить",
	PoweredBy: "Работает на",
	ShareViaEmail: "Share via email",
	SubscribeViaEmail: "Subscribe via email",
	BookmarkInYourBrowser: "Добавить в закладки",
	BookmarkInstructions: "Press Ctrl+D or \u2318+D to bookmark this page",
	AddToYourFavorites: "Добавить в Избранное",
	SendFromWebOrProgram: "Send from any email address or email program",
	EmailProgram: "Email program",
	More: "More&#8230;"
};

//--></script>

<!-- Fancybox for WordPress -->
<script type="text/javascript">
jQuery(function(){

jQuery.fn.getTitle = function() { // Copy the title of every IMG tag and add it to its parent A so that fancybox can show titles
	var arr = jQuery("a.fancybox");
	jQuery.each(arr, function() {
		var title = jQuery(this).children("img").attr("title");
		jQuery(this).attr('title',title);
	})
}

// Supported file extensions
var thumbnails = jQuery("a:has(img)").not(".nolightbox").filter( function() { return /\.(jpe?g|png|gif|bmp)$/i.test(jQuery(this).attr('href')) });

thumbnails.addClass("fancybox").attr("rel","fancybox").getTitle();
jQuery("a.fancybox").fancybox({
	'cyclic': false,
	'autoScale': true,
	'padding': 10,
	'opacity': true,
	'speedIn': 500,
	'speedOut': 500,
	'changeSpeed': 300,
	'overlayShow': true,
	'overlayOpacity': "0.3",
	'overlayColor': "#666666",
	'titleShow': true,
	'titlePosition': 'inside',
	'enableEscapeButton': true,
	'showCloseButton': true,
	'showNavArrows': true,
	'hideOnOverlayClick': true,
	'hideOnContentClick': false,
	'width': 560,
	'height': 340,
	'transitionIn': "fade",
	'transitionOut': "fade",
	'centerOnScroll': true
});


})
</script>
<!-- END Fancybox for WordPress -->
<link rel="shortcut icon" href="http://prologistic.com.ua/favicon.ico">
<script type="text/javascript">
	window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';
	window._wp_rp_wp_ajax_url = "http://prologistic.com.ua/wp-admin/admin-ajax.php";
	window._wp_rp_plugin_version = '3.6';
	window._wp_rp_post_id = '109';
	window._wp_rp_num_rel_posts = '10';
	window._wp_rp_thumbnails = true;
	window._wp_rp_post_title = '%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5+%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE+%D0%BF%D0%BE+Java+8+Stream';
	window._wp_rp_post_tags = ['stream', 'java+8', '%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%B8', 'streams+api', '%D0%9E%D1%81%D0%BE%D0%B1%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8+java+8', 'java', 'collect', 'stream', 'em', 'java', 'h2', 'sort', 'gt', 'void', '8', 'a', 'filter', 'pre', 'io'];
	window._wp_rp_promoted_content = true;
</script>
<script type="text/javascript" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/loader.js" async=""></script>
<link rel="stylesheet" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/pinterest.css">
<style type="text/css"></style><style type="text/css">#masthead .site-title {font-family:Lobster}body {font-family:Open Sans }h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style>	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url('http://prologistic.com.ua/wp-content/themes/flat/assets/img/default-background.jpg'); background-repeat: repeat; background-position: top left; background-attachment: scroll; }
</style>
<link href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shCore.css" type="text/css" rel="stylesheet"><link href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shThemeDefault.css" type="text/css" rel="stylesheet"><style type="text/css" id="syntaxhighlighteranchor"></style>
	</head>

<body class="single single-post postid-109 single-format-standard custom-background symple-shortcodes  symple-shortcodes-responsive"><div class="scroll-top-wrap"><div style="display: block;" class="scroll-top-inner  "><span class=" ">˄</span></div></div>
 
<div id="page"> 
	<div class="container"> 
		<div class="row row-offcanvas row-offcanvas-left">
			<div id="secondary" class="col-lg-3">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="http://prologistic.com.ua/" title="Программирование на Java" rel="home">Программирование на Java</a></h1><h2 class="site-description">Программирование на Java для начинающих, Android, VCS, алгоритмы - просто о сложном!</h2>					</div> 
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-glavnoe-menyu" class="nav-menu"><li id="menu-item-22" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-22"><a href="http://prologistic.com.ua/">Главная</a></li>
<li id="menu-item-63" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-63"><a href="http://prologistic.com.ua/category/java">Java</a>
<i class="fa fa-caret-right"></i><ul class="sub-menu">
	<li id="menu-item-305" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-305"><a href="http://prologistic.com.ua/category/java/nachalo-raboty">Начало работы</a></li>
	<li id="menu-item-306" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-306"><a href="http://prologistic.com.ua/category/java/oop-v-java">ООП в Java</a></li>
	<li id="menu-item-307" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-307"><a href="http://prologistic.com.ua/category/java/tipy-danny-h">Операторы и типы данных</a></li>
	<li id="menu-item-314" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-314"><a href="http://prologistic.com.ua/category/java/interfejsy-i-abstraktny-j-klass">Интерфейсы и абстрактный класс</a></li>
	<li id="menu-item-365" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-365"><a href="http://prologistic.com.ua/category/java/rabota-so-strokami">Работа со строками</a></li>
	<li id="menu-item-364" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-364"><a href="http://prologistic.com.ua/category/java/massivy-v-java">Массивы в Java</a></li>
	<li id="menu-item-409" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-409"><a href="http://prologistic.com.ua/category/java/annotatsii-i-enum">Аннотации и Enum</a></li>
	<li id="menu-item-462" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-462"><a href="http://prologistic.com.ua/category/java/rabota-s-kollektsiyami">Работа с Коллекциями</a></li>
	<li id="menu-item-457" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-457"><a href="http://prologistic.com.ua/category/java/java-io">Java IO</a></li>
	<li id="menu-item-460" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-460"><a href="http://prologistic.com.ua/category/java/obrabotka-isklyuchenij">Обработка исключений</a></li>
	<li id="menu-item-463" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-463"><a href="http://prologistic.com.ua/category/java/regulyarny-e-vy-razheniya">Регулярные выражения</a></li>
	<li id="menu-item-461" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-461"><a href="http://prologistic.com.ua/category/java/osobennosti-java-7">Особенности Java 7</a></li>
	<li id="menu-item-308" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-308"><a href="http://prologistic.com.ua/category/java/osobennosti-java-8">Особенности Java 8</a></li>
	<li id="menu-item-458" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-458"><a href="http://prologistic.com.ua/category/java/reflection-api">Reflection API</a></li>
	<li id="menu-item-459" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-459"><a href="http://prologistic.com.ua/category/java/mnogopotochnost-i-parallelizm">Многопоточность и параллелизм</a></li>
</ul>
</li>
<li id="menu-item-24" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-24"><a href="http://prologistic.com.ua/category/intellij-idea">IntelliJ IDEA</a></li>
<li id="menu-item-82" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-82"><a href="http://prologistic.com.ua/category/algorytmy">Алгоритмы</a></li>
<li id="menu-item-137" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-137"><a href="http://prologistic.com.ua/category/programmirovanie">Программирование</a></li>
<li id="menu-item-25" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-25"><a href="http://prologistic.com.ua/category/git">Git</a></li>
<li id="menu-item-150" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-150"><a href="http://prologistic.com.ua/category/poleznosti">Полезности</a></li>
<li id="menu-item-83" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-83"><a href="http://prologistic.com.ua/category/blog">Блог</a></li>
<li id="menu-item-328" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-328"><a href="http://prologistic.com.ua/o-sajte.html">О сайте</a></li>
<li id="menu-item-522" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-522"><a title="Бесплатные видеокурсы по программированию на Java" href="http://prologistic.com.ua/besplatnye-kursy-po-programmirovaniyu-na-java.html">Бесплатные видеокурсы</a></li>
</ul>					</nav>
									</header>
 
				
				<div class="sidebar-offcanvas">
					<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="search-2" class="widget widget_search">
	<form method="get" id="searchform" action="http://prologistic.com.ua/">
		<label for="s" class="assistive-text">Поиск</label>
		<input class="field" name="s" id="s" placeholder="Поиск" type="text">
		<input class="submit" name="submit" id="searchsubmit" value="Поиск" type="submit">
	</form>
					</aside>
					<aside id="text-9" class="widget widget_text">
			<div class="textwidget"><script async="" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/adsbygoogle.js"></script>
<!-- prologistic_300_250 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-5293559879288148" data-ad-slot="4990226917"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
							</aside>
							<aside id="recent-posts-2" class="widget widget_recent_entries">
								<h3 class="widget-title">Последние статьи</h3>
		<ul>
					<li>
				<a href="http://prologistic.com.ua/chto-takoe-jdk-jre-i-jvm-v-java.html">Что такое JDK, JRE и JVM в Java?</a>
						</li>
					<li>
				<a href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-date-time-api-primery-localdate-instant-localdatetime-parse-i-format.html">Полное руководство по Java 8 Date Time API. Примеры LocalDate, Instant, LocalDateTime, Parse и Format</a>
						</li>
					<li>
				<a href="http://prologistic.com.ua/polnoe-rukovodstvo-po-lyambda-vy-razheniyam-i-funktsionalnym-interfejsam-v-java-8.html">Полное руководство по лямбда-выражениям и функциональным интерфейсам в Java 8</a>
						</li>
					<li>
				<a href="http://prologistic.com.ua/interfejsy-v-java-8-staticheskie-metody-metody-po-umolchaniyu-funktsional-ny-e-interfejsy.html">Интерфейсы в Java 8. Статические методы, методы по умолчанию, функциональные интерфейсы</a>
						</li>
					<li>
				<a href="http://prologistic.com.ua/obzor-vozmozhnostej-java-8-funktsional-ny-e-interfejsy-lyambda-vy-razheniya-stream-i-time-api.html">Обзор возможностей Java 8. Функциональные интерфейсы, лямбда-выражения, Stream и Time API</a>
						</li>
				</ul>
							</aside>
					<aside id="recent-comments-2" class="widget widget_recent_comments">
						<h3 class="widget-title">Последние комментарии</h3>
<ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">prologistic</span> к записи <a href="http://prologistic.com.ua/kak-postrochno-schity-vat-fajl-v-java.html#comment-923">Как построчно считывать файл в Java?</a></li><li class="recentcomments"><span class="comment-author-link">Евгений</span> к записи <a href="http://prologistic.com.ua/kak-postrochno-schity-vat-fajl-v-java.html#comment-919">Как построчно считывать файл в Java?</a></li><li class="recentcomments"><span class="comment-author-link">prologistic</span> к записи <a href="http://prologistic.com.ua/besplatnye-kursy-po-programmirovaniyu-na-java.html#comment-918">Бесплатные видеокурсы по программированию на Java</a></li><li class="recentcomments"><span class="comment-author-link">Alex</span> к записи <a href="http://prologistic.com.ua/besplatnye-kursy-po-programmirovaniyu-na-java.html#comment-907">Бесплатные видеокурсы по программированию на Java</a></li><li class="recentcomments"><span class="comment-author-link">Дмитрий</span> к записи <a href="http://prologistic.com.ua/o-sajte.html#comment-699">О сайте</a></li></ul>					</aside>
					<aside id="categories-2" class="widget widget_categories">
						<h3 class="widget-title">Категории</h3>
		<ul>
	<li class="cat-item cat-item-2"><a href="http://prologistic.com.ua/category/git">GIt</a>
</li>
	<li class="cat-item cat-item-3"><a href="http://prologistic.com.ua/category/intellij-idea">IntelliJ IDEA</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://prologistic.com.ua/category/java">Java</a>
</li>
	<li class="cat-item cat-item-99"><a href="http://prologistic.com.ua/category/java/java-io">Java IO</a>
</li>
	<li class="cat-item cat-item-18"><a href="http://prologistic.com.ua/category/algorytmy">Алгоритмы</a>
</li>
	<li class="cat-item cat-item-97"><a href="http://prologistic.com.ua/category/java/annotatsii-i-enum">Аннотации и Enum</a>
</li>
	<li class="cat-item cat-item-21"><a href="http://prologistic.com.ua/category/blog">Блог</a>
</li>
	<li class="cat-item cat-item-93"><a href="http://prologistic.com.ua/category/java/interfejsy-i-abstraktny-j-klass">Интерфейсы и абстрактный класс</a>
</li>
	<li class="cat-item cat-item-96"><a href="http://prologistic.com.ua/category/java/massivy-v-java">Массивы в Java</a>
</li>
	<li class="cat-item cat-item-101"><a href="http://prologistic.com.ua/category/java/mnogopotochnost-i-parallelizm">Многопоточность и параллелизм</a>
</li>
	<li class="cat-item cat-item-90"><a href="http://prologistic.com.ua/category/java/nachalo-raboty">Начало работы</a>
</li>
	<li class="cat-item cat-item-100"><a href="http://prologistic.com.ua/category/java/obrabotka-isklyuchenij">Обработка исключений</a>
</li>
	<li class="cat-item cat-item-91"><a href="http://prologistic.com.ua/category/java/oop-v-java">ООП в Java</a>
</li>
	<li class="cat-item cat-item-92"><a href="http://prologistic.com.ua/category/java/tipy-danny-h">Операторы и типы данных</a>
</li>
	<li class="cat-item cat-item-104"><a href="http://prologistic.com.ua/category/java/osobennosti-java-7">Особенности Java 7</a>
</li>
	<li class="cat-item cat-item-94"><a href="http://prologistic.com.ua/category/java/osobennosti-java-8">Особенности Java 8</a>
</li>
	<li class="cat-item cat-item-39"><a href="http://prologistic.com.ua/category/poleznosti">Полезности</a>
</li>
	<li class="cat-item cat-item-35"><a href="http://prologistic.com.ua/category/programmirovanie">Программирование</a>
</li>
	<li class="cat-item cat-item-98"><a href="http://prologistic.com.ua/category/java/rabota-s-kollektsiyami">Работа с Коллекциями</a>
</li>
	<li class="cat-item cat-item-95"><a href="http://prologistic.com.ua/category/java/rabota-so-strokami">Работа со строками</a>
</li>
		</ul>
					</aside>
					<aside id="text-4" class="widget widget_text">
			<div class="textwidget"><a href="https://goo.gl/TECu2P" title="Надежный хостинг" rel="nofollow"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/hosting.jpg" title="Надежный хостинг" alt="Надежный хостинг"></a></div>
							</aside>
											</div>
				</div>
			</div> 

			 

			<div id="primary" class="content-area col-lg-9">


							<div id="content" class="site-content" role="main">

  
 
			<article id="post-109" class="post-109 post type-post status-publish format-standard has-post-thumbnail hentry category-java category-osobennosti-java-8 tag-java-8 tag-stream tag-streams-api tag-potoki">
	<header class="entry-header">
		<h1 class="entry-title">Полное руководство по Java 8 Stream</h1>
							<div class="entry-meta"><span class="entry-date"><a href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html" rel="bookmark"><time class="entry-date" datetime="2015-04-20T05:39:43+00:00">20/04/2015</time></a></span> Автор <span class="byline"><span class="author vcard"><a class="url fn n" href="http://prologistic.com.ua/author/prologistic" rel="author">prologistic</a></span></span><span class="sep">·</span><span class="comments-link"><a href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html#respond">0 Comments</a></span></div>
			</header>
				<div class="entry-thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/java-8-stream-prologistic-com-ua.jpg" class="attachment-post-thumbnail wp-post-image" alt="java-8-stream-prologistic-com-ua" height="324" width="281"></div>
	
	
	<div class="entry-content">
				
<!-- Quick Adsense WordPress Plugin: http://quicksense.net/ -->
<div style="float:none;margin:10px 0 10px 0;text-align:center;">
<script async="" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/adsbygoogle.js"></script>
<!-- prologistic_auto_size_1 -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5293559879288148" data-ad-slot="4083192511" data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<p>Это руководство дает не только общее представление о Stream в Java 8,
 но и полезные знания которые будут востребованы в будущем.&nbsp;Когда я
 впервые узнал&nbsp;о Stream&nbsp;API, я был 
удивлен&nbsp;таким&nbsp;названием, поскольку это звучит очень похоже на <code>InputStream</code> или&nbsp;<code>OutputStream</code> из Java I/O. Но Java 8 Stream это&nbsp;совсем другое.&nbsp;Streams (стримы/потоки) являются&nbsp;<a href="https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%BD%D0%B0%D0%B4%D0%B0_%28%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%29">Монадами</a>, которые&nbsp;играют большую роль в обеспечении <em>функционального программирования</em> в Java.<span id="more-109"></span></p>
<blockquote><p>В функциональном программировании монада является структурой, которая представляет вычисления в виде последовательности шагов.</p></blockquote>
<p>Это руководство научит вас&nbsp;основам работы с&nbsp;Java 8 Streams,
 а также научит использовать операции&nbsp;над потоками&nbsp;Streams. Вы
 узнаете о порядке обработки и о том, как упорядочение потока операций 
влияет на производительность во время выполнения.&nbsp;Более мощные 
операции Stream API:&nbsp;reduce, collect и&nbsp;flatMap также будут 
подробно описаны.&nbsp;Руководство&nbsp;заканчивается углубленным 
изучением&nbsp;параллельных потоков.</p>
<h2>Как потоки работают?</h2>
<p>Поток представляет собой последовательность элементов и поддерживает различные виды операций для выполнения вычислений:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad31969783032" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">List&lt;String&gt; mList = Arrays.asList("aa1","cc2", "cc1", "aa2", "bb1");

mList
    .stream()
    .filter(s -&gt; s.startsWith("a"))
    .map(String::toUpperCase)
    .sorted()
    .forEach(System.out::println);
//Результат выполнения: 
// AA1
// AA2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad31969783032-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad31969783032-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad31969783032-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad31969783032-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad31969783032-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad31969783032-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad31969783032-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad31969783032-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad31969783032-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad31969783032-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad31969783032-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad31969783032-1"><span class="crayon-v">List</span><span class="crayon-e ">&lt;String&gt;</span><span class="crayon-h"> </span><span class="crayon-v">mList</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">asList</span><span class="crayon-sy">(</span><span class="crayon-s">"aa1"</span><span class="crayon-sy">,</span><span class="crayon-s">"cc2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad31969783032-2">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ad31969783032-3"><span class="crayon-i">mList</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad31969783032-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad31969783032-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"a"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad31969783032-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-o">::</span><span class="crayon-v">toUpperCase</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad31969783032-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">sorted</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad31969783032-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad31969783032-9"><span class="crayon-c">//Результат выполнения: </span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad31969783032-10"><span class="crayon-c">// AA1</span></div><div class="crayon-line" id="crayon-565eb7163ad31969783032-11"><span class="crayon-c">// AA2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>
Операции над потоком относятся либо к промежуточным, либо 
к&nbsp;терминальным. Все промежуточные операции возвращают поток, так 
что мы можем объединять несколько промежуточных операций без 
использования точки с запятой. Терминальные операции&nbsp;возвращают 
void&nbsp;или непотоковый результат. В приведенном выше примере&nbsp;<strong>filter, map </strong>и<strong>&nbsp;sorted</strong> являются&nbsp;<strong>промежуточными операциями</strong>, тогда как <strong>forEach</strong><strong>&nbsp;</strong>является терминальной операцией. Для получения полного списка всех доступных операций потока смотрите&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html">Javadoc&nbsp;по&nbsp;Stream</a>.</p>
<p><span class="goog-text-highlight">Большинство операций потока 
принимают&nbsp;в качестве параметров&nbsp;какие-то лямбда-выражения, в 
функциональный интерфейс точное поведение по каждой&nbsp;операции. </span>Большинство этих операций должны быть как <strong>неинтерферирующими</strong> (non-interfering)<em>, </em>так&nbsp;и <strong>лишенными состояния</strong>&nbsp;(stateless). Что это значит?</p>
<p><strong>Неинтерферирующуя&nbsp;функция </strong>не изменяет основной источник данных потока. Например, в приведенном выше примере лямбда выражение не изменяет m<code>List</code> путем добавления или удаления элементов из коллекции.</p>
<p><strong>Лишенная&nbsp;состояния</strong>&nbsp;<strong>функция</strong>
 – выполнение операции является детерминированным, например, в 
приведенном выше примере лямбда-выражение не зависит от какой-либо 
изменяемой переменной или состояния из внешней среды, которая могла бы 
измениться во время выполнения.</p>
<h2>Различные виды потоков (Streams)</h2>
<p>Потоки могут быть созданы из различных источников данных, особенно 
коллекций. Коллекции&nbsp;List&nbsp;и&nbsp;Set&nbsp;поддерживают новые 
методы stream() и&nbsp;parallelStream(). Параллельные потоки способны 
работать на нескольких нитях и будут рассмотрены в следующем разделе 
этого руководства. Мы ориентируемся на последовательные потоки:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad45279002055" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Arrays.asList("сс1", "сс2", "сс3")
    .stream()
    .findFirst()
    .ifPresent(System.out::println);  
//Результат выполнения: сс1</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad45279002055-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad45279002055-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad45279002055-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad45279002055-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad45279002055-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad45279002055-1"><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">asList</span><span class="crayon-sy">(</span><span class="crayon-s">"сс1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"сс2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"сс3"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad45279002055-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad45279002055-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">findFirst</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad45279002055-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ifPresent</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-565eb7163ad45279002055-5"><span class="crayon-c">//Результат выполнения: сс1</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>
Вызов метода stream<code>()</code> по перечню объектов возвращает поток.
 Но мы не должны создавать коллекции для того, чтобы работать с 
потоками. Смотрим на&nbsp;следующем примере кода:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad49760115912" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("сс1", "сс2", "сс3")
    .findFirst()
    .ifPresent(System.out::println);  
//Результатом будет сс1</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad49760115912-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad49760115912-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad49760115912-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad49760115912-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad49760115912-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"сс1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"сс2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"сс3"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad49760115912-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">findFirst</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad49760115912-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ifPresent</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad49760115912-4"><span class="crayon-c">//Результатом будет сс1</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>
Просто используйте <code>Stream.of()</code>, чтобы создать поток с кучей ссылок на объекты.</p>
<p>Кроме регулярных объектов потоков Java 8,&nbsp;еще 
предоставляются&nbsp;особые виды потоков для работы с примитивными 
типами данных <code>int</code>, <code>long</code>&nbsp;и&nbsp;<code>double</code>. Как вы уже догадались, это <code>IntStream</code> , <code>LongStream</code> и <code>DoubleStream</code> .</p>
<p>IntStreams может заменить обычный цикл for на изящный&nbsp;<code>IntStream.range()</code> :</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad55974808313" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">IntStream.range(8, 12)
    .forEach(System.out::println);
//Результат выполнения:
// 8
// 9
// 10
// 11</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad55974808313-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad55974808313-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad55974808313-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad55974808313-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad55974808313-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad55974808313-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad55974808313-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad55974808313-1"><span class="crayon-v">IntStream</span><span class="crayon-sy">.</span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad55974808313-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad55974808313-3"><span class="crayon-c">//Результат выполнения:</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad55974808313-4"><span class="crayon-c">// 8</span></div><div class="crayon-line" id="crayon-565eb7163ad55974808313-5"><span class="crayon-c">// 9</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad55974808313-6"><span class="crayon-c">// 10</span></div><div class="crayon-line" id="crayon-565eb7163ad55974808313-7"><span class="crayon-c">// 11</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>
Все эти примитивные потоки работают так же, как и обычные объектные потоки, но со следующими отличиями:</p>
<p>Примитивные потоки используют специализированные лямбда-выражения, например <code>IntFunction</code> <code>Function&nbsp;или</code>&nbsp;<code>IntPredicate</code>&nbsp;вместо&nbsp;<code>Predicate</code>&nbsp;. И примитивные потоки поддерживают дополнительные терминальные операции&nbsp;<code>sum()</code>&nbsp;и&nbsp;<code>average()</code>:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad59849794995" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Arrays.stream(new int[] {1, 2, 3})
    .map(n -&gt; 2 * n + 1)
    .average()
    .ifPresent(System.out::println);  
&nbsp;//Результатом выполнения будет 5.0</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad59849794995-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad59849794995-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad59849794995-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad59849794995-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad59849794995-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad59849794995-1"><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad59849794995-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">n</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad59849794995-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">average</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad59849794995-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ifPresent</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-565eb7163ad59849794995-5">&nbsp;<span class="crayon-c">//Результатом выполнения будет 5.0</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>
Иногда это полезно преобразовать поток объекта к примитивному потоку или
 наоборот. Для этой цели потоки объектов поддерживают специальные 
операций картирования <code>mapToInt()</code>, <code>mapToLong()</code> и <code>mapToDouble()</code> :</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad5b934122352" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("c1", "c2", "c3")
    .map(s -&gt; s.substring(1))
    .mapToInt(Integer::parseInt)
    .max()
    .ifPresent(System.out::println);  
//Результатом выполнения будет 3</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad5b934122352-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad5b934122352-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad5b934122352-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad5b934122352-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad5b934122352-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad5b934122352-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad5b934122352-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"c1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c3"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad5b934122352-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">substring</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad5b934122352-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">mapToInt</span><span class="crayon-sy">(</span><span class="crayon-t">Integer</span><span class="crayon-o">::</span><span class="crayon-v">parseInt</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad5b934122352-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">max</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad5b934122352-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ifPresent</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad5b934122352-6"><span class="crayon-c">//Результатом выполнения будет 3</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>
Примитивные потоки могут быть преобразованы в объектные потоки с помощью метода&nbsp;<code>mapToObj()</code>:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad5d445454265" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">IntStream.range(1, 4)
    .mapToObj(i -&gt; "с" + i)
    .forEach(System.out::println);
// Результат выполнения операции:
// с1
// с2
// с3</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad5d445454265-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad5d445454265-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad5d445454265-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad5d445454265-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad5d445454265-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad5d445454265-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad5d445454265-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad5d445454265-1"><span class="crayon-v">IntStream</span><span class="crayon-sy">.</span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad5d445454265-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">mapToObj</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-s">"с"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad5d445454265-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad5d445454265-4"><span class="crayon-c">// Результат выполнения операции:</span></div><div class="crayon-line" id="crayon-565eb7163ad5d445454265-5"><span class="crayon-c">// с1</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad5d445454265-6"><span class="crayon-c">// с2</span></div><div class="crayon-line" id="crayon-565eb7163ad5d445454265-7"><span class="crayon-c">// с3</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>
Вот комбинированный пример: поток с double&nbsp;сначала 
преобразуется&nbsp;в&nbsp;int’овый&nbsp;поток и затем в&nbsp;объектный 
поток строк:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad69234015272" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of(1.0, 2.0, 3.0)
    .mapToInt(Double::intValue)
    .mapToObj(i -&gt; "с" + i)
    .forEach(System.out::println);
// Результат выполнения операции:
// с1
// с2
// с3</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad69234015272-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad69234015272-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad69234015272-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad69234015272-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad69234015272-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad69234015272-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad69234015272-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad69234015272-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad69234015272-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3.0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad69234015272-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">mapToInt</span><span class="crayon-sy">(</span><span class="crayon-t">Double</span><span class="crayon-o">::</span><span class="crayon-v">intValue</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad69234015272-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">mapToObj</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-s">"с"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad69234015272-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad69234015272-5"><span class="crayon-c">// Результат выполнения операции:</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad69234015272-6"><span class="crayon-c">// с1</span></div><div class="crayon-line" id="crayon-565eb7163ad69234015272-7"><span class="crayon-c">// с2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad69234015272-8"><span class="crayon-c">// с3</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>
</p><h2>&nbsp;Порядок обработки</h2>
<p>Теперь, когда мы научились создавать и работать с различными видами 
потоков, давайте углубляться в то, как поток операций обрабатываются под
 капотом.</p>
<p>Посмотрите на этот образец, где отсутствует терминальная операция:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad6b993542013" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .filter(s -&gt; {
        System.out.println("Фильтр: " + s);
        return true;
    });</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad6b993542013-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad6b993542013-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad6b993542013-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad6b993542013-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad6b993542013-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad6b993542013-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad6b993542013-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad6b993542013-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Фильтр: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad6b993542013-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad6b993542013-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>
При выполнении этого фрагмента кода ничего не печатается на консоль. Это
 происходит потому, что промежуточные операции будут выполнены только 
тогда, когда присутствуют терминальные операции.</p>
<p>Давайте расширим предыдущий пример использованием&nbsp;forEach:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad6e724587439" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .filter(s -&gt; {
        System.out.println("Фильтр: " + s);
        return true;
    })
    .forEach(s -&gt; System.out.println("Печать с использованием forEach: " + s));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad6e724587439-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad6e724587439-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad6e724587439-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad6e724587439-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad6e724587439-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad6e724587439-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad6e724587439-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad6e724587439-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad6e724587439-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Фильтр: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad6e724587439-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad6e724587439-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad6e724587439-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Печать с использованием forEach: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>
Выполнив этот код, на консоль выведется следующее:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad70094183079" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Фильтр:  dd2
Печать с использованием forEach: dd2
Фильтр: aa2
Печать с использованием forEach: aa2
Фильтр: bb1
Печать с использованием forEach: bb1
Фильтр: bb3
Печать с использованием forEach: bb3
Фильтр: cc
Печать с использованием forEach: cc</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad70094183079-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad70094183079-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad70094183079-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad70094183079-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad70094183079-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad70094183079-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad70094183079-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad70094183079-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad70094183079-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad70094183079-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad70094183079-1">Фильтр<span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">dd2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad70094183079-2">Печать<span class="crayon-h"> </span>с<span class="crayon-h"> </span>использованием<span class="crayon-h"> </span><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad70094183079-3">Фильтр<span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">aa2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad70094183079-4">Печать<span class="crayon-h"> </span>с<span class="crayon-h"> </span>использованием<span class="crayon-h"> </span><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad70094183079-5">Фильтр<span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">bb1</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad70094183079-6">Печать<span class="crayon-h"> </span>с<span class="crayon-h"> </span>использованием<span class="crayon-h"> </span><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">bb1</span></div><div class="crayon-line" id="crayon-565eb7163ad70094183079-7">Фильтр<span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">bb3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad70094183079-8">Печать<span class="crayon-h"> </span>с<span class="crayon-h"> </span>использованием<span class="crayon-h"> </span><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">bb3</span></div><div class="crayon-line" id="crayon-565eb7163ad70094183079-9">Фильтр<span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">cc</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad70094183079-10">Печать<span class="crayon-h"> </span>с<span class="crayon-h"> </span>использованием<span class="crayon-h"> </span><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">cc</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0115 seconds] -->
<p>
Порядок выполнения&nbsp;может вас&nbsp;удивить. На первый 
взгляд&nbsp;все операции будут выполняться по горизонтали одна за 
другой&nbsp;по всем элементам потока. Но в нашем примере&nbsp;первая 
строка “dd2” полностью проходит фильтр&nbsp;forEach, 
потом&nbsp;обрабатывается вторая строка “aa2” и так далее.</p>
<p>Такое поведение может привести к снижению фактического количества 
операций, выполняемых на каждом элементе. Это&nbsp;мы видим 
на&nbsp;следующем примере:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad7d643917743" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .map(s -&gt; {
        System.out.println("map: " + s);
        return s.toUpperCase();
    })
    .anyMatch(s -&gt; {
        System.out.println("anyMatch: " + s);
        return s.startsWith("A");
    });
// Результат выполнения представлен ниже

// map:      dd2
// anyMatch: DD2
// map:      aa2
// anyMatch: AA2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad7d643917743-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ad7d643917743-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad7d643917743-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"map: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">anyMatch</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"anyMatch: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"A"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-10"><span class="crayon-c">// Результат выполнения представлен ниже</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-12"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-13"><span class="crayon-c">// anyMatch: DD2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad7d643917743-14"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad7d643917743-15"><span class="crayon-c">// anyMatch: AA2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0026 seconds] -->
<p>
Операция <code>anyMatch</code> возвращает true, как только предикат 
применится к входному элементу. Это подходит&nbsp;для второго элемента 
«аа2». В связи с вертикальным&nbsp;исполнением&nbsp;цепи потока, 
map&nbsp;будет&nbsp;выполнен два раза.</p>
<h2>Почему порядок выполнения в stream имеет значение</h2>
<p>Следующий пример состоит из двух промежуточных операций map и&nbsp;filter, а также&nbsp;выполнение&nbsp;терминала&nbsp;<code>forEach</code>. Давайте еще ​​раз посмотрим порядок&nbsp;выполнения этих операций:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad81045439788" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .map(s -&gt; {
        System.out.println("map: " + s);
        return s.toUpperCase();
    })
    .filter(s -&gt; {
        System.out.println("filter: " + s);
        return s.startsWith("A");
    })
    .forEach(s -&gt; System.out.println("forEach: " + s));
// Результат выполнения
// map:     dd2
// filter:  DD2
// map:     aa2
// filter:  AA2
// forEach: AA2
// map:     bb1
// filter:  BB1
// map:     bb3
// filter:  BB3
// map:     cc
// filter:  CC</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-16">16</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-18">18</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-20">20</div><div class="crayon-num" data-line="crayon-565eb7163ad81045439788-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad81045439788-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad81045439788-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"map: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"filter: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"A"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"forEach: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-11"><span class="crayon-c">// Результат выполнения</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-12"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-13"><span class="crayon-c">// filter:&nbsp;&nbsp;DD2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-14"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-15"><span class="crayon-c">// filter:&nbsp;&nbsp;AA2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-16"><span class="crayon-c">// forEach: AA2</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-17"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; bb1</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-18"><span class="crayon-c">// filter:&nbsp;&nbsp;BB1</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-19"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; bb3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-20"><span class="crayon-c">// filter:&nbsp;&nbsp;BB3</span></div><div class="crayon-line" id="crayon-565eb7163ad81045439788-21"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; cc</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad81045439788-22"><span class="crayon-c">// filter:&nbsp;&nbsp;CC</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p>
Как вы уже догадались, map и&nbsp;filter&nbsp;называются пять раз для 
каждой строки в базовой коллекции, тогда как forEach&nbsp;вызывается 
только один раз.</p>
<p>Мы можем сильно уменьшить&nbsp;фактическое количество выполнений, 
если мы изменим порядок операций, передвинув&nbsp;filter&nbsp;в начало 
цепочки:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad84557204312" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .filter(s -&gt; {
        System.out.println("filter: " + s);
        return s.startsWith("a");
    })
    .map(s -&gt; {
        System.out.println("map: " + s);
        return s.toUpperCase();
    })
    .forEach(s -&gt; System.out.println("forEach: " + s));

// filter:  dd2
// filter:  aa2
// map:     aa2
// forEach: AA2
// filter:  bb1
// filter:  bb3
// filter:  cc</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-16">16</div><div class="crayon-num" data-line="crayon-565eb7163ad84557204312-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad84557204312-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad84557204312-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"filter: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"a"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"map: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"forEach: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-12"><span class="crayon-c">// filter:&nbsp;&nbsp;dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-13"><span class="crayon-c">// filter:&nbsp;&nbsp;aa2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-14"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-15"><span class="crayon-c">// forEach: AA2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-16"><span class="crayon-c">// filter:&nbsp;&nbsp;bb1</span></div><div class="crayon-line" id="crayon-565eb7163ad84557204312-17"><span class="crayon-c">// filter:&nbsp;&nbsp;bb3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad84557204312-18"><span class="crayon-c">// filter:&nbsp;&nbsp;cc</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0130 seconds] -->
<p>
Теперь, map вызывается только один раз и будет&nbsp;выполняться быстрее 
для большого&nbsp;количества входных элементов. Имейте это в виду при 
составлении комплексного метода цепи.</p>
<p>Давайте расширим предыдущий пример с дополнительной операцией, sorted:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad90862098971" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .sorted((s1, s2) -&gt; {
        System.out.printf("sort: %s; %s\n", s1, s2);
        return s1.compareTo(s2);
    })
    .filter(s -&gt; {
        System.out.println("filter: " + s);
        return s.startsWith("a");
    })
    .map(s -&gt; {
        System.out.println("map: " + s);
        return s.toUpperCase();
    })
    .forEach(s -&gt; System.out.println("forEach: " + s));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ad90862098971-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad90862098971-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad90862098971-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">sorted</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">s1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad90862098971-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">printf</span><span class="crayon-sy">(</span><span class="crayon-s">"sort: %s; %s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s1</span><span class="crayon-sy">.</span><span class="crayon-e">compareTo</span><span class="crayon-sy">(</span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad90862098971-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad90862098971-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"filter: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"a"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad90862098971-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad90862098971-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"map: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad90862098971-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad90862098971-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"forEach: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0125 seconds] -->
<p>
Сортировка является особым видом промежуточных&nbsp;операций. Это так называемые <em>операции состояния.&nbsp;</em></p>
<p>Выполнение этого примера приводит следующий вывод консоли:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad93412105565" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">sort:    aa2; dd2
sort:    bb1; aa2
sort:    bb1; dd2
sort:    bb1; aa2
sort:    bb3; bb1
sort:    bb3; dd2
sort:    cc4; bb3
sort:    cc4; dd2
filter:  aa2
map:     aa2
forEach: AA2
filter:  bb1
filter:  bb3
filter:  cc4
filter:  dd2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad93412105565-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ad93412105565-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad93412105565-1"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">aa2</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">dd2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-2"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bb1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-3"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bb1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">dd2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-4"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bb1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-5"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bb3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">bb1</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-6"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bb3</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-7"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cc4</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">bb3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-8"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cc4</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-9"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">aa2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-10"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">aa2</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-11"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">AA2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-12"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">bb1</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-13"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">bb3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad93412105565-14"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">cc4</span></div><div class="crayon-line" id="crayon-565eb7163ad93412105565-15"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">dd2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>
Во-первых, операция сортировки выполняется на всей совокупности входных данных. Другими словами,<code>&nbsp;sorted </code>выполнен
 в горизонтальном направлении. Таким образом,&nbsp;sorted 
вызывается&nbsp;8 раз для нескольких комбинаций на каждом элементе во 
входной коллекции.</p>
<p>Теперь&nbsp;мы можем оптимизировать производительность:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad95891542902" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream.of("dd2", "aa2", "bb1", "bb3", "cc4")
    .filter(s -&gt; {
        System.out.println("filter: " + s);
        return s.startsWith("a");
    })
    .sorted((s1, s2) -&gt; {
        System.out.printf("sort: %s; %s\n", s1, s2);
        return s1.compareTo(s2);
    })
    .map(s -&gt; {
        System.out.println("map: " + s);
        return s.toUpperCase();
    })
    .forEach(s -&gt; System.out.println("forEach: " + s));

// filter:  dd2
// filter:  aa2
// filter:  bb1
// filter:  bb3
// filter:  cc4
// map:     aa2
// forEach: AA2</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-16">16</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-18">18</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-20">20</div><div class="crayon-num" data-line="crayon-565eb7163ad95891542902-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad95891542902-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad95891542902-1"><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc4"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"filter: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"a"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">sorted</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">s1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">printf</span><span class="crayon-sy">(</span><span class="crayon-s">"sort: %s; %s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s1</span><span class="crayon-sy">.</span><span class="crayon-e">compareTo</span><span class="crayon-sy">(</span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"map: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"forEach: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-16"><span class="crayon-c">// filter:&nbsp;&nbsp;dd2</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-17"><span class="crayon-c">// filter:&nbsp;&nbsp;aa2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-18"><span class="crayon-c">// filter:&nbsp;&nbsp;bb1</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-19"><span class="crayon-c">// filter:&nbsp;&nbsp;bb3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-20"><span class="crayon-c">// filter:&nbsp;&nbsp;cc4</span></div><div class="crayon-line" id="crayon-565eb7163ad95891542902-21"><span class="crayon-c">// map:&nbsp;&nbsp;&nbsp;&nbsp; aa2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad95891542902-22"><span class="crayon-c">// forEach: AA2</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p>
В этом примере sorted&nbsp;никогда не вызывали, потому что 
filter&nbsp;уменьшает&nbsp;входную&nbsp;коллекцию 
до&nbsp;одного&nbsp;элемента. В&nbsp;этом случае производительность 
значительно снижается для больших входных коллекций.</p>
<h2>Повторное использование Потоков (Streams)</h2>
<p>Потоки в Java 8 не могут быть использованы повторно.&nbsp;Как только 
вы называете какую-нибудь&nbsp;терминальную операция, поток закрывается</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad98181170237" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Stream&lt;String&gt; stream =
    Stream.of("dd2", "aa2", "bb1", "bb3", "cc")
        .filter(s -&gt; s.startsWith("a"));

stream.anyMatch(s -&gt; true);    // операция выполнится успешно
stream.noneMatch(s -&gt; true);   // Вылетит Exception</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad98181170237-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad98181170237-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad98181170237-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad98181170237-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad98181170237-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad98181170237-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad98181170237-1"><span class="crayon-v">Stream</span><span class="crayon-e ">&lt;String&gt;</span><span class="crayon-h"> </span><span class="crayon-v">stream</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad98181170237-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad98181170237-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"a"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad98181170237-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ad98181170237-5"><span class="crayon-v">stream</span><span class="crayon-sy">.</span><span class="crayon-e">anyMatch</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// операция выполнится успешно</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad98181170237-6"><span class="crayon-v">stream</span><span class="crayon-sy">.</span><span class="crayon-e">noneMatch</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Вылетит Exception</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>
Вызов&nbsp;<strong><code>noneMatch</code></strong>&nbsp;после <strong><code>anyMatch</code></strong>&nbsp;в одном и том же stream вызовет следующее исключение:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad9a434631899" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Exception in thread "main" java.lang.IllegalStateException: stream has already been operated upon or closed
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:229)
	at java.util.stream.ReferencePipeline.noneMatch(ReferencePipeline.java:459)
...</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad9a434631899-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad9a434631899-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad9a434631899-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad9a434631899-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad9a434631899-1"><span class="crayon-e">Exception </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">thread</span><span class="crayon-h"> </span><span class="crayon-s">"main"</span><span class="crayon-h"> </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">lang</span><span class="crayon-sy">.</span><span class="crayon-v">IllegalStateException</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">stream </span><span class="crayon-e">has </span><span class="crayon-e">already </span><span class="crayon-e">been </span><span class="crayon-e">operated </span><span class="crayon-e">upon </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-e">closed</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad9a434631899-2"><span class="crayon-e">	</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">stream</span><span class="crayon-sy">.</span><span class="crayon-v">AbstractPipeline</span><span class="crayon-sy">.</span><span class="crayon-e">evaluate</span><span class="crayon-sy">(</span><span class="crayon-v">AbstractPipeline</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">229</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad9a434631899-3"><span class="crayon-h">	</span><span class="crayon-e">at </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">stream</span><span class="crayon-sy">.</span><span class="crayon-v">ReferencePipeline</span><span class="crayon-sy">.</span><span class="crayon-e">noneMatch</span><span class="crayon-sy">(</span><span class="crayon-v">ReferencePipeline</span><span class="crayon-sy">.</span><span class="crayon-v">java</span><span class="crayon-o">:</span><span class="crayon-cn">459</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad9a434631899-4"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>
Чтобы избежать этого, мы должны создать новую цепь для каждой терминальной операции.</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ad9d992890596" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier =
    () -&gt; Stream.of("dd2", "aa2", "bb1", "bb3", "cc")
            .filter(s -&gt; s.startsWith("a"));

streamSupplier.get().anyMatch(s -&gt; true);   // операция пройдет успешно
streamSupplier.get().noneMatch(s -&gt; true);  // здесь также все будет ok</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ad9d992890596-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad9d992890596-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ad9d992890596-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad9d992890596-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ad9d992890596-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ad9d992890596-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ad9d992890596-1"><span class="crayon-v">Supplier</span><span class="crayon-o">&lt;</span><span class="crayon-v">Stream</span><span class="crayon-e ">&lt;String&gt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">streamSupplier</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad9d992890596-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">Stream</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-s">"dd2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aa2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"bb3"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"cc"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ad9d992890596-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"a"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad9d992890596-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ad9d992890596-5"><span class="crayon-v">streamSupplier</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">anyMatch</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// операция пройдет успешно</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ad9d992890596-6"><span class="crayon-v">streamSupplier</span><span class="crayon-sy">.</span><span class="crayon-e">get</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">noneMatch</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// здесь также все будет ok</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>
</p><div class="gtx-body">Каждый вызов конструктора <strong>get()</strong> создает новый поток, с&nbsp;которым мы можем&nbsp;безопасно&nbsp;работать.</div>
<h2 class="gtx-body">Продвинутые операции</h2>
<div class="gtx-body">Потоки поддерживает множество различных операций. 
Мы уже узнали о наиболее важных операциях, таких как filter или map. 
Чтобы ознакомиться с&nbsp;другими доступными операции, загляните в <a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html" target="_blank">Stream&nbsp;Javadoc</a>.</div>
<div class="gtx-body">А теперь давайте глубже познакомимся&nbsp;в более сложными операциями&nbsp;<strong><code>collect</code></strong>,&nbsp;<strong><code>flatMap</code></strong>&nbsp;и&nbsp;<strong><code>reduce</code></strong>.</div>
<div class="gtx-body"></div>
<div class="gtx-body">Для работы с этими операциями напишем следующий код:</div>
<div class="gtx-body"></div>
<div class="gtx-body">
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ada0603321007" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">class Person {
    String name;
    int age;

    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        return name;
    }
}

List&lt;Person&gt; persons =
    Arrays.asList(
        new Person("Andrew", 20),
        new Person("Igor", 23),
        new Person("Ira", 23),
        new Person("Vitia", 12));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-16">16</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-18">18</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada0603321007-20">20</div><div class="crayon-num" data-line="crayon-565eb7163ada0603321007-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ada0603321007-1"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ada0603321007-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-n">@Override</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-14"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-16"><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-h"> </span><span class="crayon-v">persons</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">asList</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Andrew"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Igor"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">23</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada0603321007-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Ira"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">23</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163ada0603321007-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Vitia"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0021 seconds] -->
<p>
Наверняка многие из вас обратили внимание на очень удобный трюк <a title="Как создать и инициализировать List в одну строку на Java" href="http://prologistic.com.ua/kak-sozdat-i-initsializirovat-list-v-odnu-stroku-na-java.html" target="_blank">создания и инициализации&nbsp;List в одну строку</a>.</p>
<h2>Операция Collect</h2>
<div id="translation">
<div class="gtx-body">Collect&nbsp;является чрезвычайно полезной&nbsp;операцией, чтобы превратить элементы потока в <strong>List, Set</strong> или <strong>Map</strong>. Collect&nbsp;принимает <code>Collector,</code>&nbsp;который
 состоит из четырех различных операций: поставщик, аккумулятор, 
объединитель и финишер. Это звучит очень сложно, но это только на первый
 взгляд. Фишкой&nbsp;<strong>Java 8</strong>&nbsp;является поддержка различных встроенных&nbsp;коллекторов через класс <strong><code>Collectors</code></strong>. Именно поэтому работа с ними будет намного проще.</div>
<div class="gtx-body"></div>
<div class="gtx-body">Давайте начнем с наиболее распространенного случая:</div>
<div class="gtx-body">
<!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ada2291781295" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">List&lt;Person&gt; filtered =
    persons
        .stream()
        .filter(p -&gt; p.name.startsWith("I"))
        .collect(Collectors.toList());

System.out.println(filtered);    // [Igor, Ira]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ada2291781295-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada2291781295-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ada2291781295-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada2291781295-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ada2291781295-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada2291781295-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ada2291781295-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ada2291781295-1"><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-h"> </span><span class="crayon-v">filtered</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada2291781295-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">persons</span></div><div class="crayon-line" id="crayon-565eb7163ada2291781295-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada2291781295-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">.</span><span class="crayon-e">startsWith</span><span class="crayon-sy">(</span><span class="crayon-s">"I"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ada2291781295-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">Collectors</span><span class="crayon-sy">.</span><span class="crayon-e">toList</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada2291781295-6">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ada2291781295-7"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">filtered</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// [Igor, Ira]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->

Как видите, у нас получилось всего 6 строчек кода.<p></p>
<p>Следующий пример группирует всех по возрасту:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ada5616951742" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Map&lt;Integer, List&lt;Person&gt;&gt; personsByAge = persons
    .stream()
    .collect(Collectors.groupingBy(p -&gt; p.age));

personsByAge
    .forEach((age, p) -&gt; System.out.format("age %s: %s\n", age, p));

// age 20: [Andrew]
// age 23: [Igor, Ira]
// age 12: [Vitia]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ada5616951742-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada5616951742-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ada5616951742-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada5616951742-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ada5616951742-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada5616951742-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ada5616951742-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada5616951742-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ada5616951742-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada5616951742-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ada5616951742-1"><span class="crayon-v">Map</span><span class="crayon-o">&lt;</span><span class="crayon-t">Integer</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">personsByAge</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada5616951742-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ada5616951742-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">Collectors</span><span class="crayon-sy">.</span><span class="crayon-e">groupingBy</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada5616951742-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ada5616951742-5"><span class="crayon-i">personsByAge</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada5616951742-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">age</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"age %s: %s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">age</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ada5616951742-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada5616951742-8"><span class="crayon-c">// age 20: [Andrew]</span></div><div class="crayon-line" id="crayon-565eb7163ada5616951742-9"><span class="crayon-c">// age 23: [Igor, Ira]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada5616951742-10"><span class="crayon-c">// age 12: [Vitia]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>
Collectors&nbsp;– чрезвычайно универсальные. Вы также можете создавать 
группы&nbsp;элементов потока, например, определение среднего возраста 
всех лиц:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ada8854064372" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Double averageAge = persons
    .stream()
    .collect(Collectors.averagingInt(p -&gt; p.age));

System.out.println(averageAge);     // 19.5</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ada8854064372-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada8854064372-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ada8854064372-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ada8854064372-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ada8854064372-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ada8854064372-1"><span class="crayon-t">Double</span><span class="crayon-h"> </span><span class="crayon-v">averageAge</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada8854064372-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163ada8854064372-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">Collectors</span><span class="crayon-sy">.</span><span class="crayon-e">averagingInt</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ada8854064372-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163ada8854064372-5"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">averageAge</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// 19.5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>
Если вы заинтересованы в более полной статистике, то collectors 
возвращает специальный встроенный объект со сводной статистикой. Таким 
образом, мы можем просто определить&nbsp;минимальный, 
максимальный&nbsp;и средний арифметический&nbsp;возраст, а также 
найти&nbsp;сумму и количество.</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adaa871960235" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">IntSummaryStatistics ageSummary =
    persons
        .stream()
        .collect(Collectors.summarizingInt(p -&gt; p.age));

System.out.println(ageSummary);
// Результат выполнения: 
// IntSummaryStatistics{count=4, sum=78, min=12, average=19.500000, max=23}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adaa871960235-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaa871960235-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adaa871960235-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaa871960235-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adaa871960235-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaa871960235-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adaa871960235-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaa871960235-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adaa871960235-1"><span class="crayon-e">IntSummaryStatistics </span><span class="crayon-v">ageSummary</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaa871960235-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">persons</span></div><div class="crayon-line" id="crayon-565eb7163adaa871960235-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaa871960235-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">Collectors</span><span class="crayon-sy">.</span><span class="crayon-e">summarizingInt</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adaa871960235-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaa871960235-6"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">ageSummary</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adaa871960235-7"><span class="crayon-c">// Результат выполнения: </span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaa871960235-8"><span class="crayon-c">// IntSummaryStatistics{count=4, sum=78, min=12, average=19.500000, max=23}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p>
Следующий пример соединяет всех людей в одну строку:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adac383094280" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">String phrase = persons
    .stream()
    .filter(p -&gt; p.age &gt;= 18)
    .map(p -&gt; p.name)
    .collect(Collectors.joining(" и ", "В Германии ", " совершеннолетние."));

System.out.println(phrase);
// В Германии Andrew и Igor и Ira совершеннолетние.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adac383094280-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adac383094280-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adac383094280-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adac383094280-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adac383094280-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adac383094280-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adac383094280-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adac383094280-8">8</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adac383094280-1"><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">phrase</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adac383094280-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adac383094280-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">18</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adac383094280-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adac383094280-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">Collectors</span><span class="crayon-sy">.</span><span class="crayon-e">joining</span><span class="crayon-sy">(</span><span class="crayon-s">" и "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"В Германии "</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">" совершеннолетние."</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adac383094280-6">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adac383094280-7"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">phrase</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adac383094280-8"><span class="crayon-c">// В Германии Andrew и Igor и Ira совершеннолетние.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>
Коллектор&nbsp;<strong>join</strong>&nbsp;принимает разделитель, а также дополнительный префикс и суффикс.</p>
<p>Для того чтобы трансформировать элементы потока в <strong>map</strong>, мы должны указать, как <strong>ключи и значения</strong> должны быть нанесены на <strong>map</strong>. Имейте в виду, что замапенные&nbsp;ключи должны быть уникальными, иначе <strong><code>IllegalStateException</code></strong>&nbsp;не избежать. Вы можете передать функцию слияния в качестве дополнительного параметра, чтобы обойти исключение:</p>
<p>&nbsp;</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adaf000974224" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Map&lt;Integer, String&gt; map = persons
    .stream()
    .collect(Collectors.toMap(
        p -&gt; p.age,
        p -&gt; p.name,
        (name1, name2) -&gt; name1 + ";" + name2));

System.out.println(map);
// {20=Andrew, 23=Igor;Ira, 12=Vitya}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adaf000974224-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaf000974224-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adaf000974224-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaf000974224-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adaf000974224-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaf000974224-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adaf000974224-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adaf000974224-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adaf000974224-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adaf000974224-1"><span class="crayon-v">Map</span><span class="crayon-o">&lt;</span><span class="crayon-t">Integer</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">map</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaf000974224-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adaf000974224-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">Collectors</span><span class="crayon-sy">.</span><span class="crayon-e">toMap</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaf000974224-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163adaf000974224-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaf000974224-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">name1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">name2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">name1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adaf000974224-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adaf000974224-8"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adaf000974224-9"><span class="crayon-c">// {20=Andrew, 23=Igor;Ira, 12=Vitya}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>
Теперь, когда мы знаем, некоторые 
мощные&nbsp;встроенные&nbsp;коллекторы, давайте попробуем построить свой
 собственный специальный коллектор. Мы хотим превратить всех людей в 
потоке в одну строку, состоящую из всех имен в верхнем регистре, 
разделенных знаком <code>"|"</code>.</p>
<p>Для достижения этого мы создаем новый коллектор через <code>Collector.of()</code>. Мы должны пройти четыре этапа&nbsp;использования collectors: <strong><em>supplier</em>,&nbsp;<em>accumulator</em>, <em>combiner</em></strong>&nbsp;и&nbsp;<strong><em>finisher</em></strong>.</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adb1969844911" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Collector&lt;Person, StringJoiner, String&gt; personNameCollector =
    Collector.of(
        () -&gt; new StringJoiner(" | "),          // supplier
        (j, p) -&gt; j.add(p.name.toUpperCase()),  // accumulator
        (j1, j2) -&gt; j1.merge(j2),               // combiner
        StringJoiner::toString);                // finisher

String names = persons
    .stream()
    .collect(personNameCollector);

System.out.println(names);  // ANDREW | IGOR | IRA | VITIA</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adb1969844911-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb1969844911-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adb1969844911-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb1969844911-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adb1969844911-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb1969844911-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adb1969844911-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb1969844911-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adb1969844911-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb1969844911-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adb1969844911-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb1969844911-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adb1969844911-1"><span class="crayon-v">Collector</span><span class="crayon-o">&lt;</span><span class="crayon-v">Person</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">StringJoiner</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">personNameCollector</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb1969844911-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Collector</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-565eb7163adb1969844911-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">StringJoiner</span><span class="crayon-sy">(</span><span class="crayon-s">" | "</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// supplier</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb1969844911-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">j</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">j</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// accumulator</span></div><div class="crayon-line" id="crayon-565eb7163adb1969844911-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">j1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">j2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">j1</span><span class="crayon-sy">.</span><span class="crayon-e">merge</span><span class="crayon-sy">(</span><span class="crayon-v">j2</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// combiner</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb1969844911-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">StringJoiner</span><span class="crayon-o">::</span><span class="crayon-v">toString</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// finisher</span></div><div class="crayon-line" id="crayon-565eb7163adb1969844911-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb1969844911-8"><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">names</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line" id="crayon-565eb7163adb1969844911-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb1969844911-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">collect</span><span class="crayon-sy">(</span><span class="crayon-v">personNameCollector</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adb1969844911-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb1969844911-12"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">names</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// ANDREW | IGOR | IRA | VITIA</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p>
Так как&nbsp;<a title="Рекомендации по использованию String, StringBuffer и StringBuilder в Java" href="http://prologistic.com.ua/rekomendatsii-po-ispol-zovaniyu-string-stringbuffer-i-stringbuilder-v-java.html">строки в Java неизменные</a>,&nbsp;нам нужен вспомогательный класс <strong><code>StringJoiner</code></strong>, чтобы коллектор мог построить нашу строку. <strong>Supplier</strong>&nbsp;изначально создает такой​ <strong>StringJoiner</strong> с соответствующим разделителем. <strong>Accumulator</strong>&nbsp;используется для добавления имени каждого человека в верхний&nbsp;регистр. <strong>Combiner </strong>знает как объединить два <strong>StringJoiner</strong>&nbsp;в один. На последнем этапе <strong>Finisher</strong> строит желаемую строку из <strong>StringJoiner</strong>.</p>
<h2>FlatMap</h2>
<p>Мы уже научились преобразовывать объекты потока в другой тип объектов, используя&nbsp;операции с <strong>map</strong>.
 Map&nbsp;ограничена, потому что каждый объект может быть отображен 
только одним объектом. Но что, если мы хотим преобразовать один объект в
 нескольких других? На помощь здесь&nbsp;приходит&nbsp;<code>flatMap</code>.</p>
<p>FlatMap преобразует каждый элемент потока в поток других объектов. Таким образом, каждый объект будет преобразован в <strong>ноль, один </strong>или<strong> несколько</strong> других объектов, поддерживаемых потоком. Содержание этих потоков будет затем помещают в возвращаемом потоке <code>flatMap</code> операции.</p>
<p>Прежде, чем мы увидим <code>flatMap</code> в действии мы должны соответствующий тип иерархии:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adb5868608112" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">class Foo {
    String name;
    List&lt;Bar&gt; bars = new ArrayList&lt;&gt;();

    Foo(String name) {
        this.name = name;
    }
}

class Bar {
    String name;

    Bar(String name) {
        this.name = name;
    }
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-12">12</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-14">14</div><div class="crayon-num" data-line="crayon-565eb7163adb5868608112-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb5868608112-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adb5868608112-1"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Foo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adb5868608112-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">List</span><span class="crayon-e ">&lt;Bar&gt;</span><span class="crayon-h"> </span><span class="crayon-v">bars</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">ArrayList</span><span class="crayon-o">&lt;&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adb5868608112-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Foo</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adb5868608112-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-8"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-565eb7163adb5868608112-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-10"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Bar</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adb5868608112-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-12">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adb5868608112-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Bar</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adb5868608112-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb5868608112-16"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0295 seconds] -->
<p>
<span style="font-family: 'Helvetica','sans-serif'; color: #515862;">Далее, мы используем наши знания о потоках для того, чтобы создать несколько объектов:</span></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adb7781050437" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();

// create foos
IntStream
    .range(1, 4)
    .forEach(i -&gt; foos.add(new Foo("Foo" + i)));

// create bars
foos.forEach(f -&gt;
    IntStream
        .range(1, 4)
        .forEach(i -&gt; f.bars.add(new Bar("Bar" + i + " &lt;- " + f.name))));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adb7781050437-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb7781050437-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adb7781050437-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb7781050437-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adb7781050437-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb7781050437-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adb7781050437-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb7781050437-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adb7781050437-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb7781050437-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adb7781050437-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb7781050437-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adb7781050437-1"><span class="crayon-v">List</span><span class="crayon-e ">&lt;Foo&gt;</span><span class="crayon-h"> </span><span class="crayon-v">foos</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">ArrayList</span><span class="crayon-o">&lt;&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb7781050437-2">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adb7781050437-3"><span class="crayon-c">// create foos</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb7781050437-4"><span class="crayon-i">IntStream</span></div><div class="crayon-line" id="crayon-565eb7163adb7781050437-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb7781050437-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">foos</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Foo</span><span class="crayon-sy">(</span><span class="crayon-s">"Foo"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adb7781050437-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb7781050437-8"><span class="crayon-c">// create bars</span></div><div class="crayon-line" id="crayon-565eb7163adb7781050437-9"><span class="crayon-v">foos</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb7781050437-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">IntStream</span></div><div class="crayon-line" id="crayon-565eb7163adb7781050437-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb7781050437-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">bars</span><span class="crayon-sy">.</span><span class="crayon-e">add</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Bar</span><span class="crayon-sy">(</span><span class="crayon-s">"Bar"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" &lt;- "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p>
Теперь у нас есть список из трех функций, каждая из которых состоит из 
трех баров.&nbsp;FlatMap принимает функцию, которая должна возвращать 
поток объектов:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adb9353615032" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">foos.stream()
    .flatMap(f -&gt; f.bars.stream())
    .forEach(b -&gt; System.out.println(b.name));

// Bar1 &lt;- Foo1
// Bar2 &lt;- Foo1
// Bar3 &lt;- Foo1
// Bar1 &lt;- Foo2
// Bar2 &lt;- Foo2
// Bar3 &lt;- Foo2
// Bar1 &lt;- Foo3
// Bar2 &lt;- Foo3
// Bar3 &lt;- Foo3</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb9353615032-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb9353615032-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb9353615032-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb9353615032-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb9353615032-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adb9353615032-12">12</div><div class="crayon-num" data-line="crayon-565eb7163adb9353615032-13">13</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adb9353615032-1"><span class="crayon-v">foos</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb9353615032-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">flatMap</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">bars</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adb9353615032-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">b</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">b</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb9353615032-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adb9353615032-5"><span class="crayon-c">// Bar1 &lt;- Foo1</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb9353615032-6"><span class="crayon-c">// Bar2 &lt;- Foo1</span></div><div class="crayon-line" id="crayon-565eb7163adb9353615032-7"><span class="crayon-c">// Bar3 &lt;- Foo1</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb9353615032-8"><span class="crayon-c">// Bar1 &lt;- Foo2</span></div><div class="crayon-line" id="crayon-565eb7163adb9353615032-9"><span class="crayon-c">// Bar2 &lt;- Foo2</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb9353615032-10"><span class="crayon-c">// Bar3 &lt;- Foo2</span></div><div class="crayon-line" id="crayon-565eb7163adb9353615032-11"><span class="crayon-c">// Bar1 &lt;- Foo3</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adb9353615032-12"><span class="crayon-c">// Bar2 &lt;- Foo3</span></div><div class="crayon-line" id="crayon-565eb7163adb9353615032-13"><span class="crayon-c">// Bar3 &lt;- Foo3</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>
&nbsp;</p>
<p><span style="font-family: 'Helvetica','sans-serif'; color: #515862;">Как видите, мы успешно преобразовали поток трех объектов Foo в поток девяти объектов.</span></p>
<p><span style="font-family: 'Helvetica','sans-serif'; color: #515862;">Наконец, код выше можно упростить:</span></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adbc307034905" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">IntStream.range(1, 4)
    .mapToObj(i -&gt; new Foo("Foo" + i))
    .peek(f -&gt; IntStream.range(1, 4)
        .mapToObj(i -&gt; new Bar("Bar" + i + " &lt;- " + f.name))
        .forEach(f.bars::add))
    .flatMap(f -&gt; f.bars.stream())
    .forEach(b -&gt; System.out.println(b.name));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adbc307034905-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbc307034905-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adbc307034905-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbc307034905-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adbc307034905-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbc307034905-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adbc307034905-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adbc307034905-1"><span class="crayon-v">IntStream</span><span class="crayon-sy">.</span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbc307034905-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">mapToObj</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Foo</span><span class="crayon-sy">(</span><span class="crayon-s">"Foo"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adbc307034905-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">peek</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">IntStream</span><span class="crayon-sy">.</span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbc307034905-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">mapToObj</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Bar</span><span class="crayon-sy">(</span><span class="crayon-s">"Bar"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" &lt;- "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adbc307034905-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">bars</span><span class="crayon-o">::</span><span class="crayon-v">add</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbc307034905-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">flatMap</span><span class="crayon-sy">(</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-v">bars</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adbc307034905-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">b</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">b</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p>
FlatMap также доступна для&nbsp;Optional&nbsp;класса, введенного в Java 
8. Optional&nbsp;операции класса flatMap&nbsp;возвращает дополнительный 
объект другого типа..</p>
<p>Посмотрите на иерархическую структуру типа этой:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adbf624724517" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">class Outer {
    Nested nested;
}

class Nested {
    Inner inner;
}

class Inner {
    String foo;
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adbf624724517-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbf624724517-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adbf624724517-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbf624724517-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adbf624724517-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbf624724517-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adbf624724517-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbf624724517-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adbf624724517-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adbf624724517-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adbf624724517-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adbf624724517-1"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Outer</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbf624724517-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Nested </span><span class="crayon-v">nested</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adbf624724517-3"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbf624724517-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adbf624724517-5"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Nested</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbf624724517-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Inner </span><span class="crayon-v">inner</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adbf624724517-7"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbf624724517-8">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adbf624724517-9"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">Inner</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adbf624724517-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">foo</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adbf624724517-11"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>
<span style="font-family: 'Helvetica','sans-serif'; color: #515862;">Далее нужно добавить многочисленные проверки на нулевые значения.</span></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adc1088489373" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Outer outer = new Outer();
if (outer != null &amp;&amp; outer.nested != null &amp;&amp; outer.nested.inner != null) {
    System.out.println(outer.nested.inner.foo);
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adc1088489373-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc1088489373-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adc1088489373-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc1088489373-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adc1088489373-1"><span class="crayon-e">Outer </span><span class="crayon-v">outer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Outer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc1088489373-2"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">outer</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">outer</span><span class="crayon-sy">.</span><span class="crayon-v">nested</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">outer</span><span class="crayon-sy">.</span><span class="crayon-v">nested</span><span class="crayon-sy">.</span><span class="crayon-v">inner</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adc1088489373-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">outer</span><span class="crayon-sy">.</span><span class="crayon-v">nested</span><span class="crayon-sy">.</span><span class="crayon-v">inner</span><span class="crayon-sy">.</span><span class="crayon-v">foo</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc1088489373-4"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>
Такое же поведение можно получить, используя операцию optionalflatMap&nbsp;:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adc3901629400" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Optional.of(new Outer())
    .flatMap(o -&gt; Optional.ofNullable(o.nested))
    .flatMap(n -&gt; Optional.ofNullable(n.inner))
    .flatMap(i -&gt; Optional.ofNullable(i.foo))
    .ifPresent(System.out::println);</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adc3901629400-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc3901629400-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adc3901629400-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc3901629400-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adc3901629400-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adc3901629400-1"><span class="crayon-v">Optional</span><span class="crayon-sy">.</span><span class="crayon-e">of</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Outer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc3901629400-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">flatMap</span><span class="crayon-sy">(</span><span class="crayon-v">o</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">Optional</span><span class="crayon-sy">.</span><span class="crayon-e">ofNullable</span><span class="crayon-sy">(</span><span class="crayon-v">o</span><span class="crayon-sy">.</span><span class="crayon-v">nested</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adc3901629400-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">flatMap</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">Optional</span><span class="crayon-sy">.</span><span class="crayon-e">ofNullable</span><span class="crayon-sy">(</span><span class="crayon-v">n</span><span class="crayon-sy">.</span><span class="crayon-v">inner</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc3901629400-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">flatMap</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">Optional</span><span class="crayon-sy">.</span><span class="crayon-e">ofNullable</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">.</span><span class="crayon-v">foo</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adc3901629400-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ifPresent</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>
Каждый вызов&nbsp;flatMap&nbsp;возвращает&nbsp;Optional обертку объекта.</p>
<h2>Reduce</h2>
<p>Операция Reduce сочетает в себе все элементы потока в единый 
результат.&nbsp;Java 8 поддерживает три различных 
вида&nbsp;reduce&nbsp;метода.&nbsp;&nbsp;Давайте посмотрим, как мы можем
 использовать один метод для определения самого старшего человека:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adc5369360911" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">persons
    .stream()
    .reduce((p1, p2) -&gt; p1.age &gt; p2.age ? p1 : p2)
    .ifPresent(System.out::println);    // Ira</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adc5369360911-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc5369360911-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adc5369360911-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc5369360911-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adc5369360911-1"><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc5369360911-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adc5369360911-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">reduce</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">p1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p1</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">p2</span><span class="crayon-sy">.</span><span class="crayon-i">age</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-v">p1</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">p2</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc5369360911-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">ifPresent</span><span class="crayon-sy">(</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-o">::</span><span class="crayon-v">println</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ira</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>
</p><h3>Первый Reduce метод</h3>
<p>Reduce метод принимает функцию 
аккумулятора&nbsp;BinaryOperator.&nbsp;Это на самом деле BiFunction, 
когда оба операнда имеют один и тот же тип, в этом 
случае&nbsp;Person.&nbsp;BiFunctions похожи на&nbsp;Function, но 
принимает два аргумента.&nbsp;Пример функции сравнивает людей по 
возрасту и возвращает самого старшего.</p>
<h3>Второй&nbsp;Reduce&nbsp;метод</h3>
<p>Второй&nbsp;Reduce&nbsp;метод принимает идентифицирующее значение 
и&nbsp;BinaryOperator.&nbsp;Этот метод может быть использован для 
«создания» нового человека с агрегированным имен и возрастом других 
человек в потоке:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adc7255186646" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Person result =
    persons
        .stream()
        .reduce(new Person("", 0), (p1, p2) -&gt; {
            p1.age += p2.age;
            p1.name += p2.name;
            return p1;
        });

System.out.format("name=%s; age=%s", result.name, result.age);
// name=AndrewIgorIraVitia; age=78</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adc7255186646-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc7255186646-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adc7255186646-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc7255186646-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adc7255186646-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc7255186646-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adc7255186646-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc7255186646-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adc7255186646-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adc7255186646-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adc7255186646-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adc7255186646-1"><span class="crayon-e">Person </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc7255186646-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">persons</span></div><div class="crayon-line" id="crayon-565eb7163adc7255186646-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc7255186646-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">reduce</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">p1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adc7255186646-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p1</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">p2</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc7255186646-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">p1</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">p2</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adc7255186646-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">p1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc7255186646-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adc7255186646-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adc7255186646-10"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"name=%s; age=%s"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adc7255186646-11"><span class="crayon-c">// name=AndrewIgorIraVitia; age=78</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>
</p><h3>Третий&nbsp;Reduce</h3>
<p>Третий&nbsp;Reduce&nbsp; метод принимает три параметра: значение 
идентификатора,BiFunction&nbsp;аккумулятор и объединитель функции 
типа&nbsp;BinaryOperator.&nbsp;Поскольку идентифицирующее значение не 
ограничивает&nbsp;тип Person, мы можем использовать это сокращение для 
определения суммы возрасте от всех лиц:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adcb828126681" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Integer ageSum = persons
    .stream()
    .reduce(0, (sum, p) -&gt; sum += p.age, (sum1, sum2) -&gt; sum1 + sum2);

System.out.println(ageSum);  // 78</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adcb828126681-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcb828126681-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adcb828126681-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcb828126681-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adcb828126681-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adcb828126681-1"><span class="crayon-t">Integer</span><span class="crayon-h"> </span><span class="crayon-v">ageSum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcb828126681-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adcb828126681-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">reduce</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcb828126681-4">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adcb828126681-5"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">ageSum</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// 78</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>
Как видим, результат получился 78, но что же произошло под катом? Давайте посмотрим вывод с подробным описанием:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adcd555511816" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Integer ageSum = persons
    .stream()
    .reduce(0,
        (sum, p) -&gt; {
            System.out.format("accumulator: sum=%s; person=%s\n", sum, p);
            return sum += p.age;
        },
        (sum1, sum2) -&gt; {
            System.out.format("combiner: sum1=%s; sum2=%s\n", sum1, sum2);
            return sum1 + sum2;
        });

//accumulator: sum=0; person=Andrew
//accumulator: sum=20; person=Igor
//accumulator: sum=43; person=Ira
//accumulator: sum=66; person=Vitia</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-12">12</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-14">14</div><div class="crayon-num" data-line="crayon-565eb7163adcd555511816-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcd555511816-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adcd555511816-1"><span class="crayon-t">Integer</span><span class="crayon-h"> </span><span class="crayon-v">ageSum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">stream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adcd555511816-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">reduce</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adcd555511816-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"accumulator: sum=%s; person=%s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adcd555511816-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adcd555511816-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"combiner: sum1=%s; sum2=%s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adcd555511816-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-12">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adcd555511816-13"><span class="crayon-c">//accumulator: sum=0; person=Andrew</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-14"><span class="crayon-c">//accumulator: sum=20; person=Igor</span></div><div class="crayon-line" id="crayon-565eb7163adcd555511816-15"><span class="crayon-c">//accumulator: sum=43; person=Ira</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcd555511816-16"><span class="crayon-c">//accumulator: sum=66; person=Vitia</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p>
Как видим, аккумулирующая функция делает всю работу. Сначала вызывается 
инициализирующая значение 0 и первый человек&nbsp;Андрей. В следующих 
трех вызовах “sum” увеличивается возраст до суммарного 78.</p>
<p>Подождите, что? Комбайнер никогда не&nbsp;вызывается? Выполнение этого стрима параллельно раскроет секрет:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adcf336242501" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Integer ageSum = persons
    .parallelStream()
    .reduce(0,
        (sum, p) -&gt; {
            System.out.format("accumulator: sum=%s; person=%s\n", sum, p);
            return sum += p.age;
        },
        (sum1, sum2) -&gt; {
            System.out.format("combiner: sum1=%s; sum2=%s\n", sum1, sum2);
            return sum1 + sum2;
        });

//accumulator: sum=0; person=Ira
//accumulator: sum=0; person=Vitia
//accumulator: sum=0; person=Andrew
//accumulator: sum=0; person=Igor
//combiner: sum1=23; sum2=12
//combiner: sum1=20; sum2=23
//combiner: sum1=43; sum2=35</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-12">12</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-14">14</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-16">16</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adcf336242501-18">18</div><div class="crayon-num" data-line="crayon-565eb7163adcf336242501-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adcf336242501-1"><span class="crayon-t">Integer</span><span class="crayon-h"> </span><span class="crayon-v">ageSum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">persons</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">parallelStream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">reduce</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"accumulator: sum=%s; person=%s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"combiner: sum1=%s; sum2=%s\n"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-12">&nbsp;</div><div class="crayon-line" id="crayon-565eb7163adcf336242501-13"><span class="crayon-c">//accumulator: sum=0; person=Ira</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-14"><span class="crayon-c">//accumulator: sum=0; person=Vitia</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-15"><span class="crayon-c">//accumulator: sum=0; person=Andrew</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-16"><span class="crayon-c">//accumulator: sum=0; person=Igor</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-17"><span class="crayon-c">//combiner: sum1=23; sum2=12</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adcf336242501-18"><span class="crayon-c">//combiner: sum1=20; sum2=23</span></div><div class="crayon-line" id="crayon-565eb7163adcf336242501-19"><span class="crayon-c">//combiner: sum1=43; sum2=35</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>
Выполнение этого потока параллельно приведет к совершенно иным 
результатам. Теперь комбайнер действительно&nbsp;вызывается. С тех пор 
как аккумулятор вызывается параллельно, комбайнеру необходимо 
суммировать отдельные значения.</p>
<p>Давайте глубже погрузимся&nbsp;в мир параллельных потоков в следующей главе.</p>
<h2>Параллельные потоки</h2>
<p>Потоки могут быть выполнены параллельно, чтобы увеличить 
производительность выполнения на большом количестве входных элементов. 
Параллельные потоки используют общий <code>ForkJoinPool</code> доступный через статический <code>ForkJoinPool.commonPool()</code>
 метод. Размер основного пула потоков использует до пяти нитей – в 
зависимости от количества доступных физических ядер процессора:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163add2089358193" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">ForkJoinPool commonPool = ForkJoinPool.commonPool();
System.out.println(commonPool.getParallelism());    // 3</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163add2089358193-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add2089358193-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163add2089358193-1"><span class="crayon-e">ForkJoinPool </span><span class="crayon-v">commonPool</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-e">commonPool</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add2089358193-2"><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-v">commonPool</span><span class="crayon-sy">.</span><span class="crayon-e">getParallelism</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 3</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>
На моей машине общий пул&nbsp;инициализируется с параллелизмом 3 
по-умолчанию.&nbsp;Это значение может быть уменьшено&nbsp;или увеличено 
путем установки следующих&nbsp;параметров JVM:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163add5585274308" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; z-index: 4;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">-Djava.util.concurrent.ForkJoinPool.common.parallelism=5</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163add5585274308-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163add5585274308-1"><span class="crayon-o">-</span><span class="crayon-v">Djava</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">common</span><span class="crayon-sy">.</span><span class="crayon-v">parallelism</span><span class="crayon-o">=</span><span class="crayon-cn">5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>
Коллекции поддерживает метод parallelStream(), чтобы создать 
параллельный поток элементов. Кроме того, вы можете 
вызвать&nbsp;промежуточный метод parallel()&nbsp;на данном потоке, чтобы
 преобразовать последовательный поток в параллельной копии.</p>
<p>Для того, чтобы занизить поведение параллельного выполнения 
параллельного потока Следующий пример печатает информацию о текущем 
потоке в <code>Sout</code> :</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163add8442866131" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Arrays.asList("a1", "a2", "b1", "c2", "c1")
    .parallelStream()
    .filter(s -&gt; {
        System.out.format("filter: %s [%s]\n",
            s, Thread.currentThread().getName());
        return true;
    })
    .map(s -&gt; {
        System.out.format("map: %s [%s]\n",
            s, Thread.currentThread().getName());
        return s.toUpperCase();
    })
    .forEach(s -&gt; System.out.format("forEach: %s [%s]\n",
        s, Thread.currentThread().getName()));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163add8442866131-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-2">2</div><div class="crayon-num" data-line="crayon-565eb7163add8442866131-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-4">4</div><div class="crayon-num" data-line="crayon-565eb7163add8442866131-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-6">6</div><div class="crayon-num" data-line="crayon-565eb7163add8442866131-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-8">8</div><div class="crayon-num" data-line="crayon-565eb7163add8442866131-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-10">10</div><div class="crayon-num" data-line="crayon-565eb7163add8442866131-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-12">12</div><div class="crayon-num" data-line="crayon-565eb7163add8442866131-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163add8442866131-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163add8442866131-1"><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">asList</span><span class="crayon-sy">(</span><span class="crayon-s">"a1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"a2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"b1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c1"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">parallelStream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163add8442866131-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"filter: %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163add8442866131-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163add8442866131-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163add8442866131-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"map: %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163add8442866131-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163add8442866131-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"forEach: %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163add8442866131-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>
После дебага мы&nbsp;получим лучшее понимание, какие потоки на самом деле используется для выполнения операций потока:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163adda445596099" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">filter:  b1 [main]
filter:  a2 [ForkJoinPool.commonPool-worker-1]
map:     a2 [ForkJoinPool.commonPool-worker-1]
filter:  c2 [ForkJoinPool.commonPool-worker-3]
map:     c2 [ForkJoinPool.commonPool-worker-3]
filter:  c1 [ForkJoinPool.commonPool-worker-2]
map:     c1 [ForkJoinPool.commonPool-worker-2]
forEach: C2 [ForkJoinPool.commonPool-worker-3]
forEach: A2 [ForkJoinPool.commonPool-worker-1]
map:     b1 [main]
forEach: B1 [main]
filter:  a1 [ForkJoinPool.commonPool-worker-3]
map:     a1 [ForkJoinPool.commonPool-worker-3]
forEach: A1 [ForkJoinPool.commonPool-worker-3]
forEach: C1 [ForkJoinPool.commonPool-worker-2]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163adda445596099-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-2">2</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-4">4</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-6">6</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-8">8</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-10">10</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-12">12</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163adda445596099-14">14</div><div class="crayon-num" data-line="crayon-565eb7163adda445596099-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163adda445596099-1"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">b1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-2"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">a2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-3"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">a2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-4"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">c2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-5"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">c2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-6"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">c1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-7"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">c1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-8"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">C2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-9"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">A2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-10"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">b1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-11"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">B1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-12"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">a1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-13"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">a1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163adda445596099-14"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">A1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163adda445596099-15"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">C1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0031 seconds] -->
<p>
Как вы можете видеть, параллельный поток использует все доступные темы из общей&nbsp;<code>ForkJoinPool</code>
 для выполнения операций потока. Вывод&nbsp;может отличаться 
при&nbsp;последовательном запуске, потому что поведение, которое 
конкретный поток использует не является детерминированным.</p>
<p>Давайте расширим например с помощью дополнительной операции потока –&nbsp;sort:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163addd081370027" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">Arrays.asList("a1", "a2", "b1", "c2", "c1")
    .parallelStream()
    .filter(s -&gt; {
        System.out.format("filter: %s [%s]\n",
            s, Thread.currentThread().getName());
        return true;
    })
    .map(s -&gt; {
        System.out.format("map: %s [%s]\n",
            s, Thread.currentThread().getName());
        return s.toUpperCase();
    })
    .sorted((s1, s2) -&gt; {
        System.out.format("sort: %s &lt;&gt; %s [%s]\n",
            s1, s2, Thread.currentThread().getName());
        return s1.compareTo(s2);
    })
    .forEach(s -&gt; System.out.format("forEach: %s [%s]\n",
        s, Thread.currentThread().getName()));</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163addd081370027-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-2">2</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-4">4</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-6">6</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-8">8</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-10">10</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-12">12</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-14">14</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-16">16</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163addd081370027-18">18</div><div class="crayon-num" data-line="crayon-565eb7163addd081370027-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163addd081370027-1"><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">asList</span><span class="crayon-sy">(</span><span class="crayon-s">"a1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"a2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"b1"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c2"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"c1"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">parallelStream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filter</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"filter: %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-e">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"map: %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s</span><span class="crayon-sy">.</span><span class="crayon-e">toUpperCase</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">sorted</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">s1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"sort: %s &lt;&gt; %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">s2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">s1</span><span class="crayon-sy">.</span><span class="crayon-e">compareTo</span><span class="crayon-sy">(</span><span class="crayon-v">s2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163addd081370027-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-st">forEach</span><span class="crayon-sy">(</span><span class="crayon-v">s</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"forEach: %s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163addd081370027-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">s</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0031 seconds] -->
<p>
Результат может быть&nbsp;странным на первый взгляд:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ade1389324916" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">filter:  c2 [ForkJoinPool.commonPool-worker-3]
filter:  c1 [ForkJoinPool.commonPool-worker-2]
map:     c1 [ForkJoinPool.commonPool-worker-2]
filter:  a2 [ForkJoinPool.commonPool-worker-1]
map:     a2 [ForkJoinPool.commonPool-worker-1]
filter:  b1 [main]
map:     b1 [main]
filter:  a1 [ForkJoinPool.commonPool-worker-2]
map:     a1 [ForkJoinPool.commonPool-worker-2]
map:     c2 [ForkJoinPool.commonPool-worker-3]
sort:    A2 &lt;&gt; A1 [main]
sort:    B1 &lt;&gt; A2 [main]
sort:    C2 &lt;&gt; B1 [main]
sort:    C1 &lt;&gt; C2 [main]
sort:    C1 &lt;&gt; B1 [main]
sort:    C1 &lt;&gt; C2 [main]
forEach: A1 [ForkJoinPool.commonPool-worker-1]
forEach: C2 [ForkJoinPool.commonPool-worker-3]
forEach: B1 [main]
forEach: A2 [ForkJoinPool.commonPool-worker-2]
forEach: C1 [ForkJoinPool.commonPool-worker-1]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-16">16</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-18">18</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade1389324916-20">20</div><div class="crayon-num" data-line="crayon-565eb7163ade1389324916-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ade1389324916-1"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">c2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-2"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">c1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-3"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">c1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-4"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">a2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-5"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">a2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-6"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">b1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-7"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">b1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-8"><span class="crayon-v">filter</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">a1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-9"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">a1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-10"><span class="crayon-v">map</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">c2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-11"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">A2</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-i">A1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-12"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">B1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-i">A2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-13"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">C2</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-i">B1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-14"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">C1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-i">C2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-15"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">C1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-i">B1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-16"><span class="crayon-v">sort</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">C1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&gt;</span><span class="crayon-h"> </span><span class="crayon-i">C2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-17"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">A1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-18"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">C2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-19"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">B1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade1389324916-20"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">A2</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade1389324916-21"><span class="crayon-st">forEach</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">C1</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0040 seconds] -->
<p>
Кажется, что <code>sort</code> выполняется последовательно только основной нитью. Но это не так.&nbsp;На самом деле, <code>sort</code>&nbsp;на параллельном потоке использует новый Java 8 метод&nbsp;<code>Arrays.parallelSort()</code> под капотом. Имейте в виду, что отладочный вывод относится только к исполнению переданного лямбда-выражения. Так, <code>sort</code>&nbsp;компаратор выполнен только на главном потоке, но фактическое алгоритм сортировки выполняется параллельно.</p>
<p>Возвращаясь к <code>reduce</code>, например, из последней секции. Мы 
уже выяснили, что функция комбайнер вызывается только параллельно, но не
 в последовательных потоках. Давайте посмотрим, какие потоки фактически 
участвуют:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ade5341511005" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">List&lt;Person&gt; persons =
                Arrays.asList(
                        new Person("Andrew", 20),
                        new Person("Igor", 23),
                        new Person("Ira", 23),
                        new Person("Vitia", 12));

        persons
                .parallelStream()
                .reduce(0,
                        (sum, p) -&gt; {
                            System.out.format("accumulator: sum=%s; person=%s [%s]\n",
                                    sum, p, Thread.currentThread().getName());
                            return sum += p.age;
                        },
                        (sum1, sum2) -&gt; {
                            System.out.format("combiner: sum1=%s; sum2=%s [%s]\n",
                                    sum1, sum2, Thread.currentThread().getName());
                            return sum1 + sum2;
                        });</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-8">8</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-10">10</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-12">12</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-14">14</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-16">16</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-18">18</div><div class="crayon-num" data-line="crayon-565eb7163ade5341511005-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade5341511005-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ade5341511005-1"><span class="crayon-v">List</span><span class="crayon-e ">&lt;Person&gt;</span><span class="crayon-h"> </span><span class="crayon-v">persons</span><span class="crayon-h"> </span><span class="crayon-o">=</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Arrays</span><span class="crayon-sy">.</span><span class="crayon-e">asList</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Andrew"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Igor"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">23</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Ira"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">23</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Person</span><span class="crayon-sy">(</span><span class="crayon-s">"Vitia"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">persons</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">parallelStream</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">reduce</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"accumulator: sum=%s; person=%s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sum</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-v">p</span><span class="crayon-sy">.</span><span class="crayon-v">age</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-&gt;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">format</span><span class="crayon-sy">(</span><span class="crayon-s">"combiner: sum1=%s; sum2=%s [%s]\n"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sum1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Thread</span><span class="crayon-sy">.</span><span class="crayon-e">currentThread</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">getName</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-565eb7163ade5341511005-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade5341511005-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0027 seconds] -->
<p>
Вывод на консоль показывает, что оба <em>аккумулятора</em> и <em>комбайнера&nbsp;</em>функции выполняются параллельно на всех доступных потоках:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-565eb7163ade7321890038" class="crayon-syntax crayon-theme-sublime-text crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Включить/Отключить нумерацию строк"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Включить/Отключить подсветку кода"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Включить/Отключить перенос строк"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Показать код в новом окне"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">accumulator: sum=0; person=Ira [main]
accumulator: sum=0; person=Andrew [ForkJoinPool.commonPool-worker-2]
accumulator: sum=0; person=Vitia [ForkJoinPool.commonPool-worker-3]
accumulator: sum=0; person=Igor [ForkJoinPool.commonPool-worker-1]
combiner: sum1=23; sum2=12 [ForkJoinPool.commonPool-worker-3]
combiner: sum1=20; sum2=23 [ForkJoinPool.commonPool-worker-1]
combiner: sum1=43; sum2=35 [ForkJoinPool.commonPool-worker-1]</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-565eb7163ade7321890038-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade7321890038-2">2</div><div class="crayon-num" data-line="crayon-565eb7163ade7321890038-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade7321890038-4">4</div><div class="crayon-num" data-line="crayon-565eb7163ade7321890038-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-565eb7163ade7321890038-6">6</div><div class="crayon-num" data-line="crayon-565eb7163ade7321890038-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-565eb7163ade7321890038-1"><span class="crayon-v">accumulator</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">person</span><span class="crayon-o">=</span><span class="crayon-i">Ira</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">main</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade7321890038-2"><span class="crayon-v">accumulator</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">person</span><span class="crayon-o">=</span><span class="crayon-i">Andrew</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade7321890038-3"><span class="crayon-v">accumulator</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">person</span><span class="crayon-o">=</span><span class="crayon-i">Vitia</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade7321890038-4"><span class="crayon-v">accumulator</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">person</span><span class="crayon-o">=</span><span class="crayon-i">Igor</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade7321890038-5"><span class="crayon-v">combiner</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-o">=</span><span class="crayon-cn">23</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-o">=</span><span class="crayon-cn">12</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-565eb7163ade7321890038-6"><span class="crayon-v">combiner</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-o">=</span><span class="crayon-cn">20</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-o">=</span><span class="crayon-cn">23</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-565eb7163ade7321890038-7"><span class="crayon-v">combiner</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">sum1</span><span class="crayon-o">=</span><span class="crayon-cn">43</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">sum2</span><span class="crayon-o">=</span><span class="crayon-cn">35</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-v">ForkJoinPool</span><span class="crayon-sy">.</span><span class="crayon-v">commonPool</span><span class="crayon-o">-</span><span class="crayon-v">worker</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>
Таким образом, можно констатировать, что параллельные потоки могут дать 
хороший прирост производительности в потоках с большим количеством 
входных элементов. Но имейте в виду, что некоторые параллельные операции
 потока <code>reduce</code> и collect&nbsp;требуют&nbsp;дополнительные 
расчеты (комбинированные&nbsp;операции), которые не нужны&nbsp;при 
последовательном выполнении.</p>
<h2>Итоги</h2>
<p>Руководство по программированию стримов&nbsp;на Java 8 закончилось. 
Если Вас&nbsp;заинтересовали новые возможности Java 8,&nbsp;рекомендую 
ознакомится с&nbsp;документацией&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#NonInterference" rel="nofollow">Stream Javadoc</a>.</p>
<p>Делитесь этой статьей с друзьями и коллегами, а также следите за обновлениями на <a href="http://prologistic.com.ua/">Prologistic.com.ua</a></p>
<p><em><strong>P.S.</strong>&nbsp;Подробнее о других особенностях Java 8 вы можете ознакомиться в <a href="http://prologistic.com.ua/obzor-vozmozhnostej-java-8-funktsional-ny-e-interfejsy-lyambda-vy-razheniya-stream-i-time-api.html">этой статье</a>.</em></p>
<p style="text-align: right;">Перевод статьи&nbsp;<a href="http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/" target="_blank" rel="nofollow">winterbe.com</a></p>
</div>
</div>
</div>

<!-- Quick Adsense WordPress Plugin: http://quicksense.net/ -->
<div style="float:none;margin:10px 0 10px 0;text-align:center;">
<script async="" src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/adsbygoogle.js"></script>
<!-- prologistic_auto_size_2 -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5293559879288148" data-ad-slot="8513392118" data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div style="font-size:0px;height:0px;line-height:0px;margin:0;padding:0;clear:both"></div>
<div class="wp_rp_wrap  wp_rp_pinterest" id="wp_rp_first"><div class="wp_rp_content"><h3 class="related_post_title">Больше полезных статей!</h3><ul class="related_post wp_rp"><li class="wp_rp_related_post_column wp_rp_special"><ul><li class="undefined" data-post-type="none" data-position="0" data-poid="in-721"><a href="http://prologistic.com.ua/obzor-vozmozhnostej-java-8-funktsional-ny-e-interfejsy-lyambda-vy-razheniya-stream-i-time-api.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image7-150x84_002.jpg" alt="Обзор возможностей Java 8. Функциональные интерфейсы, лямбда-выражения, Stream и Time API" width="150"></a><a href="http://prologistic.com.ua/obzor-vozmozhnostej-java-8-funktsional-ny-e-interfejsy-lyambda-vy-razheniya-stream-i-time-api.html" class="wp_rp_title">Обзор возможностей Java 8. Функциональные интерфейсы, лямбда-выражения, Stream и Time API</a></li><li class="undefined" data-post-type="none" data-position="3" data-poid="in-600"><a href="http://prologistic.com.ua/kak-schitat-fajl-v-string-primer-chteniya-fajla-na-java.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image7-150x84.jpg" alt="Как считать файл в String? Пример чтения файла на Java" width="150"></a><a href="http://prologistic.com.ua/kak-schitat-fajl-v-string-primer-chteniya-fajla-na-java.html" class="wp_rp_title">Как считать файл в String? Пример чтения файла на Java</a></li><li class="undefined" data-post-type="none" data-position="6" data-poid="in-465"><a href="http://prologistic.com.ua/primer-ispol-zovaniya-java-priority-queue-priorityqueue.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image-150x84.jpg" alt="Пример использования Java Priority Queue (PriorityQueue)" width="150"></a><a href="http://prologistic.com.ua/primer-ispol-zovaniya-java-priority-queue-priorityqueue.html" class="wp_rp_title">Пример использования Java Priority Queue (PriorityQueue)</a></li><li class="undefined" data-post-type="none" data-position="9" data-poid="in-138"><a href="http://prologistic.com.ua/10-pravil-flat-dizajna.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/flatMain-150x113.png" alt="10 правил Flat дизайна" width="150"></a><a href="http://prologistic.com.ua/10-pravil-flat-dizajna.html" class="wp_rp_title">10 правил Flat дизайна</a></li></ul></li><li class="wp_rp_related_post_column wp_rp_special"><ul><li class="undefined" data-post-type="none" data-position="1" data-poid="in-619"><a href="http://prologistic.com.ua/kak-skachat-fajl-v-java.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image11-150x84.jpg" alt="Как скачать файл в Java?" width="150"></a><a href="http://prologistic.com.ua/kak-skachat-fajl-v-java.html" class="wp_rp_title">Как скачать файл в Java?</a></li><li class="undefined" data-post-type="none" data-position="4" data-poid="in-431"><a href="http://prologistic.com.ua/obzor-kollektsiy-v-java-java-collections-framework.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/JCF-150x84.jpg" alt="Обзор коллекций в Java (Java Collections Framework)" width="150"></a><a href="http://prologistic.com.ua/obzor-kollektsiy-v-java-java-collections-framework.html" class="wp_rp_title">Обзор коллекций в Java (Java Collections Framework)</a></li><li class="undefined" data-post-type="none" data-position="7" data-poid="in-248"><a href="http://prologistic.com.ua/primer-ispol-zovaniya-operatora-break-v-for-while-do-while-tsiklah.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image-150x150.jpg" class="attachment-150x0 wp-post-image" alt="image" height="150" width="150"></a><a href="http://prologistic.com.ua/primer-ispol-zovaniya-operatora-break-v-for-while-do-while-tsiklah.html" class="wp_rp_title">Пример использования оператора break в for, while, do-while циклах</a></li></ul></li><li class="wp_rp_related_post_column wp_rp_special"><ul><li class="undefined" data-post-type="none" data-position="2" data-poid="in-475"><a href="http://prologistic.com.ua/rukovodstvo-po-rodovy-m-tipam-v-java-java-generics-opisanie-i-primery.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image3-150x84.jpg" alt="Руководство по родовым типам в Java (Java Generics) – описание и примеры" width="150"></a><a href="http://prologistic.com.ua/rukovodstvo-po-rodovy-m-tipam-v-java-java-generics-opisanie-i-primery.html" class="wp_rp_title">Руководство по родовым типам в Java (Java Generics) – описание и примеры</a></li><li class="undefined" data-post-type="none" data-position="5" data-poid="in-580"><a href="http://prologistic.com.ua/kak-skopirovat-fajl-v-java-4-sposoba-primery-i-kod.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/image2-150x84.jpg" alt="Как скопировать файл в Java? 4 способа – примеры и код" width="150"></a><a href="http://prologistic.com.ua/kak-skopirovat-fajl-v-java-4-sposoba-primery-i-kod.html" class="wp_rp_title">Как скопировать файл в Java? 4 способа – примеры и код</a></li><li class="undefined" data-post-type="none" data-position="8" data-poid="in-90"><a href="http://prologistic.com.ua/poisk-ispolzovanij-metoda-v-intellij-idea.html" class="wp_rp_thumbnail"><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/Intel-122x150.png" class="attachment-150x0 wp-post-image" alt="Intel" height="150" width="122"></a><a href="http://prologistic.com.ua/poisk-ispolzovanij-metoda-v-intellij-idea.html" class="wp_rp_title">Поиск использований метода в Intellij IDEA.</a></li></ul></li><li class="wp_rp_related_post_load_more wp_rp_special"><a id="wp_rp_related_load_more" href="#"><span>Load more posts</span><img src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/loading.gif" class="zloader"></a></li></ul></div></div>
<div class="addtoany_share_save_container addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_32 addtoany_list a2a_target" id="wpa2a_1"><a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=http%3A%2F%2Fprologistic.com.ua%2Fpolnoe-rukovodstvo-po-java-8-stream.html&amp;linkname=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=http%3A%2F%2Fprologistic.com.ua%2Fpolnoe-rukovodstvo-po-java-8-stream.html&amp;linkname=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="http://www.addtoany.com/add_to/google_plus?linkurl=http%3A%2F%2Fprologistic.com.ua%2Fpolnoe-rukovodstvo-po-java-8-stream.html&amp;linkname=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_button_odnoklassniki" href="http://www.addtoany.com/add_to/odnoklassniki?linkurl=http%3A%2F%2Fprologistic.com.ua%2Fpolnoe-rukovodstvo-po-java-8-stream.html&amp;linkname=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream" title="Odnoklassniki" rel="nofollow" target="_blank"></a><a class="a2a_button_vk" href="http://www.addtoany.com/add_to/vk?linkurl=http%3A%2F%2Fprologistic.com.ua%2Fpolnoe-rukovodstvo-po-java-8-stream.html&amp;linkname=%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream" title="VK" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus_share addtoany_special_service" data-annotation="none" data-href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"></a>
<script type="text/javascript"><!--
if(wpa2a)wpa2a.script_load();
//--></script>
</div></div>					</div>
		<div class="tags-links"><a href="http://prologistic.com.ua/tag/java-8" rel="tag">java 8</a> <a href="http://prologistic.com.ua/tag/stream" rel="tag">stream</a> <a href="http://prologistic.com.ua/tag/streams-api" rel="tag">streams api</a> <a href="http://prologistic.com.ua/tag/potoki" rel="tag">потоки</a></div></article>
		
	<nav class="navigation post-navigation" role="navigation">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="http://prologistic.com.ua/printsipy-sozdaniya-udobny-h-form-registratsii.html" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">Принципы создания удобных форм регистрации</span></a></div><div class="nav-next"><a href="http://prologistic.com.ua/pervaya-programma-na-java.html" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">Первая программа на Java</span></a></div></div>
	</nav>

<div id="comments" class="comments-area">

	
	
							<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Добавить комментарий <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html#respond" style="display:none;">Отменить ответ</a></small></h3>
									<form action="http://prologistic.com.ua/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
																			<p class="comment-notes"><span id="email-notes">Ваш e-mail не будет опубликован.</span> Обязательные поля помечены <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Имя <span class="required">*</span></label> <input id="author" name="author" size="30" aria-required="true" required="required" type="text"></p>
<p class="comment-form-email"><label for="email">E-mail <span class="required">*</span></label> <input id="email" name="email" size="30" aria-describedby="email-notes" aria-required="true" required="required" type="email"></p>
<p class="comment-form-url"><label for="url">Сайт</label> <input id="url" name="url" size="30" type="url"></p>
												<p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" aria-required="true" required="required"></textarea></p>						
						<p class="form-submit"><input name="submit" id="submit" class="submit" value="Отправить комментарий" type="submit"> <input name="comment_post_ID" value="109" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
</p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="62f00e2667" type="hidden"></p><p style="display: none;"></p>					<input id="ak_js" name="ak_js" value="1449051417011" type="hidden"></form>
							</div><!-- #respond -->
			
	
</div>

			</div>
											<footer class="site-info">
										<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform">Сайт работает на WordPress</a>.
					Theme: Flat 1.5.6 by <a href="http://www.yoarts.com/blog/wordpress/free-flat-design-wordpress-theme.html" title="Flat WordPress Theme">YoArts</a>.				</footer>
														</div>
					</div>
	</div>
</div>

<script type="text/javascript"><!--
wpa2a.targets=[
{title:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e Java 8 Stream",url:"http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html"}];
wpa2a.html_done=true;if(wpa2a.script_ready&&!wpa2a.done)wpa2a.init();wpa2a.script_load();
//--></script>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter27402170 = new Ya.Metrika({id:27402170,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/27402170" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter --><script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/form.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shCore.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushAS3.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushBash.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushColdFusion.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushClojure.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushCpp.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushCSharp.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushCss.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushDelphi.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushDiff.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushErlang.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushFSharp.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushGroovy.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushJava.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushJavaFX.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushJScript.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushLatex.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushMatlabKey.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushObjC.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushPerl.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushPhp.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushPlain.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushPowerShell.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushPython.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushR.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushRuby.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushScala.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushSql.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushVb.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/shBrushXml.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://prologistic.com.ua/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://prologistic.com.ua/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['light'] = true;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<link rel="stylesheet" id="scroll_to_top_button_style-css" href="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/style.css" media="all">
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/comment-reply.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var scrollTopParams = {"scheme":"dark","size":"large"};
/* ]]> */
</script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/scroll-to-top.js"></script>
<script src="%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5%20%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D0%BF%D0%BE%20Java%208%20Stream%20%7C%20%D0%9F%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%B0%20Java_files/pinterest.js"></script>

<div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div></body></html>